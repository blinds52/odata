{
  "$schema":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#",
  "definitions":{
    "OData.Demo.Customer":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "type":"string"
        },
        "Orders":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Order"
          },
          "relationship":{
            "partner":"Customer"
          }
        },
        "Name":{
          "type":"string"
        },
        "CompanyName":{
          "type":[
            "string",
            "null"
          ]
        },
        "BirthDate":{
          "type":"string"
        },
        "CountryName":{
          "type":"string",
          "@Core.Description":"This is weird, given that we have a Country entity type"
        },
        "Sales":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Sales"
          },
          "relationship":{
            "partner":"Customer"
          }
        },
        "ContactName":{
          "type":"string"
        },
        "ContactTitle":{
          "type":"string"
        },
        "Fax":{
          "type":"string"
        },
        "Address":{
          "$ref":"#/definitions/OData.Demo.Address"
        },
        "EmailAddresses":{
          "type":"array",
          "items":{
            "type":"string"
          }
        },
        "Phone":{
          "$ref":"#/definitions/OData.Demo.PhoneNumber"
        }
      }
    },
    "OData.Demo.Supplier":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "type":"string"
        },
        "Products":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Product"
          },
          "relationship":{
            "partner":"Supplier"
          }
        },
        "Name":{
          "type":"string"
        },
        "EmailAddresses":{
          "type":"array",
          "items":{
            "type":"string"
          }
        },
        "Addresses":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Address"
          }
        }
      }
    },
    "OData.Demo.Product":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Int32"
        },
        "Category":{
          "$ref":"#/definitions/OData.Demo.Category",
          "relationship":{
            "partner":"Products"
          }
        },
        "Name":{
          "type":"string"
        },
        "Supplier":{
          "$ref":"#/definitions/OData.Demo.Supplier",
          "relationship":{
            "partner":"Products"
          }
        },
        "Description":{
          "type":"string"
        },
        "Thumbnail":{
          "type":"string"
        },
        "Sizes":{
          "type":"array",
          "items":{
            "type":"string"
          }
        },
        "Rating":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Int32"
        },
        "OrderItems":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.OrderItem"
          },
          "relationship":{
            "partner":"Product"
          }
        },
        "ReleaseDate":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Date"
        },
        "DiscontinuedDate":{
          "anyOf":[
            {
              "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Date"
            },
            {
              "type":"null"
            }
          ]
        },
        "LifeTime":{
          "type":"string"
        },
        "Color":{
          "type":"string"
        },
        "TaxRate":{
          "anyOf":[
            {
              "type":"number",
              "multipleOf":1e-6,
              "minimum":-9999.999999,
              "maximum":9999.999999
            },
            {
              "type":"null"
            }
          ]
        },
        "Sales":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Sales"
          },
          "relationship":{
            "partner":"Product"
          }
        }
      }
    },
    "OData.Demo.Order":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Int32"
        },
        "Items":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.OrderItem"
          },
          "relationship":{
            "partner":"Order"
          }
        },
        "Completed":{
          "type":"boolean"
        },
        "Customer":{
          "$ref":"#/definitions/OData.Demo.Customer",
          "relationship":{
            "partner":"Orders"
          }
        },
        "ShippingAddress":{
          "$ref":"#/definitions/OData.Demo.Address"
        }
      }
    },
    "OData.Demo.VipCustomer":{
      "allOf":[
        {
          "$ref":"#/definitions/OData.Demo.Customer"
        },
        {
          "type":"object"
        }
      ]
    },
    "OData.Demo.Category":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Int32"
        },
        "Amount":{
          "type":"number",
          "multipleOf":1
        },
        "Products":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Product"
          },
          "relationship":{
            "partner":"Category"
          }
        },
        "Name":{
          "type":"string"
        },
        "Thumbnail":{
          "type":"string"
        }
      }
    },
    "OData.Demo.OrderItem":{
      "type":"object",
      "keys":{
        "OrderID":"OrderID",
        "ItemID":"ItemID"
      },
      "properties":{
        "OrderID":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Int32"
        },
        "ItemID":{
          "type":"string"
        },
        "Order":{
          "$ref":"#/definitions/OData.Demo.Order",
          "relationship":{
            "partner":"Items",
            "onDelete":{
              "action":"Cascade"
            },
            "referentialConstraints":{
              "OrderID":{
                "referencedProperty":"ID"
              }
            }
          }
        },
        "Size":{
          "type":"string"
        },
        "Price":{
          "type":"number",
          "multipleOf":1
        },
        "Product":{
          "$ref":"#/definitions/OData.Demo.Product",
          "relationship":{
            "partner":"OrderItems"
          }
        },
        "Currency":{
          "$ref":"#/definitions/OData.Demo.Currency",
          "relationship":{
            
          }
        }
      }
    },
    "OData.Demo.Sales":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Int32"
        },
        "Amount":{
          "type":"number",
          "multipleOf":1
        },
        "Time":{
          "$ref":"#/definitions/OData.Demo.Time",
          "relationship":{
            "partner":"Sales"
          }
        },
        "Currency":{
          "$ref":"#/definitions/OData.Demo.Currency",
          "relationship":{
            "partner":"Sales"
          }
        },
        "Customer":{
          "$ref":"#/definitions/OData.Demo.Customer",
          "relationship":{
            "partner":"Sales"
          }
        },
        "SalesOrganization":{
          "$ref":"#/definitions/OData.Demo.SalesOrganization",
          "relationship":{
            "partner":"Sales"
          }
        },
        "Product":{
          "$ref":"#/definitions/OData.Demo.Product",
          "relationship":{
            "partner":"Sales"
          }
        }
      }
    },
    "OData.Demo.Employee":{
      "type":"object",
      "mediaEntity":true,
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "type":"string"
        },
        "FirstName":{
          "type":"string"
        },
        "LastName":{
          "type":"string"
        },
        "Title":{
          "type":"string"
        },
        "Manager":{
          "anyOf":[
            {
              "$ref":"#/definitions/OData.Demo.Manager"
            },
            {
              "type":"null"
            }
          ],
          "relationship":{
            "partner":"Employees"
          }
        },
        "LeaveRequests":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.LeaveRequest"
          },
          "relationship":{
            "partner":"Employee"
          }
        }
      }
    },
    "OData.Demo.LeaveRequest":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Int32"
        },
        "Manager":{
          "$ref":"#/definitions/OData.Demo.Manager",
          "relationship":{
            "partner":"Inbox"
          }
        },
        "Employee":{
          "$ref":"#/definitions/OData.Demo.Employee",
          "relationship":{
            "partner":"LeaveRequests"
          }
        }
      }
    },
    "OData.Demo.Address":{
      "type":"object",
      "properties":{
        "Street":{
          "type":"string"
        },
        "Country":{
          "$ref":"#/definitions/Example.Country",
          "relationship":{
            
          }
        },
        "City":{
          "$ref":"#/definitions/Example.City",
          "relationship":{
            
          }
        },
        "Region":{
          "type":"string"
        },
        "PostalCode":{
          "type":"string"
        }
      }
    },
    "OData.Demo.AddressWithLocation":{
      "type":"object",
      "properties":{
        "Location":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.GeographyPoint"
        }
      }
    },
    "OData.Demo.Country":{
      "type":"object",
      "keys":{
        "Code":"Code"
      },
      "properties":{
        "Code":{
          "type":"string",
          "maxLength":2
        },
        "Name":{
          "type":"string"
        },
        "Continent":{
          "type":"string"
        }
      }
    },
    "OData.Demo.PreferredSupplier":{
      "allOf":[
        {
          "$ref":"#/definitions/OData.Demo.Supplier"
        },
        {
          "type":"object",
          "properties":{
            "AccountRepresentative":{
              "anyOf":[
                {
                  "$ref":"#/definitions/OData.Demo.Employee"
                },
                {
                  "type":"null"
                }
              ],
              "relationship":{
                "referentialConstraints":{
                  "EmployeeID":{
                    "referencedProperty":"ID",
                    "@Core.Description":"The key account manager"
                  }
                }
              }
            },
            "EmployeeID":{
              "type":"string"
            }
          }
        }
      ]
    },
    "OData.Demo.Pattern":{
      "anyOf":[
        {
          "enum":[
            "Yellow",
            1,
            "Solid",
            2
          ]
        },
        {
          "type":"string",
          "pattern":"^(Yellow|Solid|[1-9][0-9]*)(,(Yellow|Solid|[1-9][0-9]*))*$"
        }
      ]
    },
    "OData.Demo.Manager":{
      "allOf":[
        {
          "$ref":"#/definitions/OData.Demo.Employee"
        },
        {
          "type":"object",
          "properties":{
            "Employees":{
              "type":"array",
              "items":{
                "$ref":"#/definitions/OData.Demo.Employee"
              },
              "relationship":{
                "partner":"Manager"
              }
            },
            "Inbox":{
              "type":"array",
              "items":{
                "$ref":"#/definitions/OData.Demo.LeaveRequest"
              },
              "relationship":{
                "partner":"Manager"
              }
            }
          }
        }
      ]
    },
    "OData.Demo.Time":{
      "type":"object",
      "keys":{
        "Date":"Date"
      },
      "properties":{
        "Date":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Date"
        },
        "Year":{
          "type":"string",
          "maxLength":4
        },
        "Quarter":{
          "type":"string"
        },
        "Month":{
          "type":"string"
        },
        "Sales":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Sales"
          },
          "relationship":{
            "partner":"Time"
          }
        }
      }
    },
    "OData.Demo.SalesOrganization":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "type":"string"
        },
        "Name":{
          "type":"string"
        },
        "Sales":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Sales"
          },
          "relationship":{
            "partner":"SalesOrganization"
          }
        },
        "Superordinate":{
          "anyOf":[
            {
              "$ref":"#/definitions/OData.Demo.SalesOrganization"
            },
            {
              "type":"null"
            }
          ],
          "relationship":{
            
          }
        }
      }
    },
    "OData.Demo.Currency":{
      "type":"object",
      "keys":{
        "Code":"Code"
      },
      "properties":{
        "Code":{
          "type":"string",
          "maxLength":3
        },
        "Name":{
          "type":"string"
        },
        "Sales":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/OData.Demo.Sales"
          },
          "relationship":{
            "partner":"Currency"
          }
        },
        "Symbol":{
          "type":"string"
        },
        "FractionalDigits":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Byte"
        }
      }
    },
    "OData.Demo.City":{
      "type":"object",
      "keys":{
        "ID":"ID"
      },
      "properties":{
        "ID":{
          "$ref":"http://docs.oasis-open.org/odata/odata-json-csdl/v4.0/edm.json#/definitions/Edm.Guid"
        },
        "Name":{
          "type":"string"
        }
      }
    },
    "OData.Demo.PhoneNumber":{
      "type":"object",
      "properties":{
        "Number":{
          "type":"string"
        },
        "Type":{
          "type":"string"
        }
      }
    },
    "OData.Demo.CellPhoneNumber":{
      "type":"object",
      "properties":{
        "Carrier":{
          "type":"string"
        }
      }
    }
  },
  "schemas":{
    "OData.Demo":{
      "alias":"Model",
      "entityContainer":{
        "name":"Container",
        "entitySets":{
          "Customers":{
            "entityType":"Model.Customer",
            "navigationPropertyBindings":{
              "Orders":{
                "target":"Orders"
              },
              "Sales":{
                "target":"Sales"
              },
              "Address/Country":{
                "target":"Countries"
              }
            }
          },
          "Suppliers":{
            "entityType":"Model.Supplier",
            "navigationPropertyBindings":{
              "Products":{
                "target":"Products"
              },
              "Model.PreferredSupplier/AccountRepresentative":{
                "target":"Employees"
              }
            }
          },
          "Products":{
            "entityType":"Model.Product",
            "navigationPropertyBindings":{
              "Category":{
                "target":"Categories"
              },
              "Supplier":{
                "target":"Suppliers"
              },
              "OrderItems":{
                "target":"OrderItems"
              },
              "Sales":{
                "target":"Sales"
              }
            }
          },
          "Orders":{
            "entityType":"Model.Order",
            "navigationPropertyBindings":{
              "Items":{
                "target":"OrderItems"
              },
              "Customer":{
                "target":"Customers"
              }
            }
          },
          "Categories":{
            "entityType":"Model.Category",
            "navigationPropertyBindings":{
              "Products":{
                "target":"Products"
              }
            }
          },
          "OrderItems":{
            "entityType":"Model.OrderItem",
            "navigationPropertyBindings":{
              "Order":{
                "target":"Orders"
              },
              "Product":{
                "target":"Products"
              },
              "Currency":{
                "target":"Currencies"
              }
            }
          },
          "Sales":{
            "entityType":"Model.Sales",
            "navigationPropertyBindings":{
              "Time":{
                "target":"Time"
              },
              "Currency":{
                "target":"Currencies"
              },
              "Customer":{
                "target":"Customers"
              },
              "SalesOrganization":{
                "target":"SalesOrganizations"
              },
              "Product":{
                "target":"Products"
              }
            }
          },
          "Employees":{
            "entityType":"Model.Employee",
            "navigationPropertyBindings":{
              "Model.Manager/Employees":{
                "target":"Employees"
              },
              "Manager":{
                "target":"Employees"
              },
              "Model.Manager/Inbox":{
                "target":"LeaveRequests"
              },
              "LeaveRequests":{
                "target":"LeaveRequests"
              }
            }
          },
          "LeaveRequests":{
            "entityType":"Model.LeaveRequest",
            "navigationPropertyBindings":{
              "Manager":{
                "target":"Employees"
              },
              "Employee":{
                "target":"Employees"
              }
            }
          },
          "Countries":{
            "entityType":"Model.Country"
          },
          "Time":{
            "entityType":"Model.Time",
            "navigationPropertyBindings":{
              "Sales":{
                "target":"Sales"
              }
            }
          },
          "SalesOrganizations":{
            "entityType":"Model.SalesOrganization",
            "navigationPropertyBindings":{
              "Sales":{
                "target":"Sales"
              },
              "Superordinate":{
                "target":"SalesOrganizations"
              }
            }
          },
          "Currencies":{
            "entityType":"Model.Currency",
            "navigationPropertyBindings":{
              "Sales":{
                "target":"Sales"
              }
            }
          },
          "Cities":{
            "entityType":"Model.City"
          }
        }
      }
    }
  },
  "references":{
    "http://tinyurl.com/Org-OData-Core":{
      "includes":{
        "Org.OData.Core.V1":{
          "alias":"Core"
        }
      }
    }
  }
}