<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>OData TC meeting #202 Thursday February 08, 2018</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
body{-webkit-font-smoothing:antialiased;font-family:Cambria,Arial,Verdana,sans-serif;margin:0} body {margin-left:2%}
body,p,td,div{color:#111;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;/*word-wrap:break-word*/}
h1,h2,h3,h4,h5,h6{line-height:1.5em}
a{-webkit-transition:color .2s ease-in-out;color:#0d6ea1;text-decoration:none}
a:hover{color:#3593d9}.footnote{color:#0d6ea1;font-size:.8em;vertical-align:super}dd{margin-bottom:1em}
li>p:first-child{margin:0}ul ul,ul ol{margin-bottom:.4em}.poetry
pre{display:block;font-family:Georgia,Garamond,serif!important;font-size:110%!important;font-style:italic;line-height:1.6em;margin-left:1em}
.poetry pre code{font-family:Georgia,Garamond,serif!important}
sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;position:relative;vertical-align:super}sub{vertical-align:sub;top:-1px}
p,h5{font-size:1.1429em;line-height:1.3125em;margin:1.3125em 0}dt,th{font-weight:700}p{margin:0.7ex 2.0em}pre{margin-left:4em;}
p.note{font-size:75%}
.code-like{font-family:monospace;font-size:120%!important}
@media print{body{overflow:auto}
#wrapper{background:#fff;color:#303030;font-size:85%;padding:10px;position:relative;text-indent:0}}
@media screen{/*::selection{background:rgba(157,193,200,.5)}*/.inverted{background:#333}
.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted pre,.inverted code,.inverted th{color:#eee!important}
.inverted a{color:#fff;text-decoration:underline}#wrapper{padding:20px}.inverted #wrapper{background:#333}}
</style>
<!-- # grep -v excluding_those_lines __file__ |shasum -a 512 -->
<!-- sha512_excluding_those_lines='8e05783a18a2b0444d914272aac1c4c92a4c08291de48f4e4cc154381766e81c45aa3ee18708e12de861b1a0367fe5828eafee92e549917c8d67492496f6f2a9' -->
</head>
<body class="normal">
  <div id="wrapper">
<h1>OData TC meeting #202 Thursday February 08, 2018</h1>
<p>Acting chair: Ralf</p>
<pre>Chat transcript from room: odatatc
2018-02-08 0800-1000 PST
</pre>
<h2 id="1">1. Roll call</h2>

<h3 id="1.1">1.1 Members present</h3>

<pre>
    George Ericson (Dell)
    Gerald Kraue (SAP SE)
    Hubert Heijkers (IBM)
    Mark Biamonte (Progress Software)
    Martin Zurmuehl (SAP SE)
    Matthew Borges (SAP SE) a.k.a. Matt
    Michael Pizzo (Microsoft) a.k.a. Mike
    Ralf Handl (SAP SE)
    Ramesh Reddy (Red Hat)
    Stefan Hagen (Individual)
    Ted Jones (Red Hat)
</pre>

<p>Quorum achieved. Details cf. <a href="https://www.oasis-open.org/apps/org/workgroup/odata/event.php?event_id=46242">normative attendance sheet for this meeting (event_id=46242)</a>.</p>

<p>Notes taken by all and subsequently edited for readability by Stefan.</p>

<h2 id="2">2. Approve agenda</h2>
<p>Agenda approved unchanged as published</p>

<h2 id="3">3. Approve minutes from previous meeting(s)</h2>
<h3 id="3.1">3.1 Minutes from February 01, 2018 TC meeting #201</h3>
<p><a href="https://www.oasis-open.org/committees/download.php/62433/odata-meeting-201_on-20180201-minutes.html" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/62433/odata-meeting-201_on-20180201-minutes.html</a></p>
<p>Minutes approved unchanged as published.</p>

<h2 id="4">4. Review action items [<a href="https://www.oasis-open.org/apps/org/workgroup/odata/members/action_items.php" rel="noopener noreferrer" target="_blank">Link to Action item list</a>]</h2>
<h3 id="4.1">4.1 Action items due</h3>
<p>None.</p>


<h2 id="5">5. Issues</h2>
<h3 id="5.1">5.1 V4.01: NEW or OPEN</h3>
<h4 id="5.1.1">5.1.1 <a href="https://issues.oasis-open.org/browse/ODATA-1146" rel="noopener noreferrer" target="_blank">ODATA-1146</a> - Clarify that an enumeration type must have at least one member</h4>
<p>Ralf: ODATA-1146 is OPEN</p>
<p><b>Mike</b>: I <b>move</b> we resolve ODATA-1146 as proposed, clarifying the wording that enum types MUST contain one or more members, as intended and consistent with 4.0 and JSON. <b>George</b> seconds.</p>
<p>Ralf: ODATA-1146 is RESOLVED as proposed</p>

<h4 id="5.1.2">5.1.2 <a href="https://issues.oasis-open.org/browse/ODATA-1144" rel="noopener noreferrer" target="_blank">ODATA-1144</a> - Allow percent-encoded colon in time values in URLs</h4>
<p>Ralf: ODATA-1144 is OPEN</p>
<p><b>George</b>: I <b>move</b> to approve ODATA-1144 as proposed. <b>Mike</b> seconds.</p>
<p>Ralf: ODATA-1144 is RESOLVED as proposed</p>

<h3 id="5.2">5.2 Vocabularies: NEW or OPEN</h3>
<h4 id="5.2.1">5.2.1 <a href="https://issues.oasis-open.org/browse/ODATA-1145" rel="noopener noreferrer" target="_blank">ODATA-1145</a> - Align Authorization vocabulary with OpenAPI V3</h4>
<p>Ralf: ODATA-1145 is OPEN</p>
<p>Mike: Current Authorizations vocabulary:</p>
<pre>
&lt;Term Name="Authorizations" Type="Collection(Auth.Authorization)" AppliesTo="EntityContainer EntitySet Singleton NavigationProperty Action Function">
  &lt;Annotation Term="Core.Description" String="Lists the methods available to authorize access to the annotated resource" />
&lt;/Term>
&lt;ComplexType Name="Authorization" Abstract="true">
  &lt;Annotation Term="Core.Description" String="Base type for all Authorization types" />
  &lt;Property Name="Description" Type="Edm.String">
    &lt;Annotation Term="Core.Description" String="Description of the authorization method" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="OpenIDConnect" BaseType="Auth.Authorization">
  &lt;Property Name="IssuerUrl" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description"
      String="Issuer location for the OpenID Provider. Configuration information can be obtained by appending `/.well-known/openid-configuration` to this Url." />
    &lt;Annotation Term="Core.IsURL" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="Http" BaseType="Auth.Authorization">
  &lt;Property Name="Scheme" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description" String="HTTP Authorization scheme to be used in the Authorization header, as per RFC7235" />
  &lt;/Property>
  &lt;Property Name="BearerFormat" Type="Edm.String">
    &lt;Annotation Term="Core.Description" String="Format of the bearer token" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="OAuthAuthorization" BaseType="Auth.Authorization" Abstract="true">
  &lt;Property Name="Scopes" Type="Collection(Auth.AuthorizationScope)">
    &lt;Annotation Term="Core.Description" String="Available scopes" />
  &lt;/Property>
  &lt;Property Name="RefreshUrl" Type="Edm.String">
    &lt;Annotation Term="Core.Description" String="Refresh Url" />
    &lt;Annotation Term="Core.IsURL" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="OAuth2ClientCredentials" BaseType="Auth.OAuthAuthorization">
  &lt;Property Name="TokenUrl" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description" String="Token Url" />
    &lt;Annotation Term="Core.IsURL" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="OAuth2Implicit" BaseType="Auth.OAuthAuthorization">
  &lt;Property Name="AuthorizationUrl" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description" String="Authorization URL" />
    &lt;Annotation Term="Core.IsURL" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="OAuth2Password" BaseType="Auth.OAuthAuthorization">
  &lt;Property Name="TokenUrl" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description" String="Token Url" />
    &lt;Annotation Term="Core.IsURL" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="OAuth2AuthCode" BaseType="Auth.OAuthAuthorization">
  &lt;Property Name="AuthorizationUrl" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description" String="Authorization URL" />
    &lt;Annotation Term="Core.IsURL" />
  &lt;/Property>
  &lt;Property Name="TokenUrl" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description" String="Token Url" />
    &lt;Annotation Term="Core.IsURL" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="AuthorizationScope">
  &lt;Property Name="Scope" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description" String="Scope name" />
  &lt;/Property>
  &lt;Property Name="Description" Type="Edm.String">
    &lt;Annotation Term="Core.Description" String="Description of the scope" />
  &lt;/Property>
&lt;/ComplexType>
&lt;ComplexType Name="ApiKey" BaseType="Auth.Authorization">
  &lt;Property Name="KeyName" Type="Edm.String" Nullable="false">
    &lt;Annotation Term="Core.Description" String="The name of the header or query parameter" />
  &lt;/Property>
  &lt;Property Name="Location" Type="Auth.KeyLocation" Nullable="false">
    &lt;Annotation Term="Core.Description" String="Whether the API Key is passed in the header or as a query option" />
  &lt;/Property>
&lt;/ComplexType>
&lt;EnumType Name="KeyLocation">
  &lt;Member Name="Header">
    &lt;Annotation Term="Core.Description" String="API Key is passed in the header" />
  &lt;/Member>
  &lt;Member Name="QueryOption">
    &lt;Annotation Term="Core.Description" String="API Key is passed as a query option" />
  &lt;/Member>
  &lt;Member Name="Cookie">
    &lt;Annotation Term="Core.Description" String="API Key is passed as a cookie" />
  &lt;/Member>
&lt;/EnumType>
</pre>
<p>Mike: ODATA-1145 proposal:</p>
<pre>
1) Add the following property to the Auth.Authorization complex type:

&lt;Property Name="Name" Type="Edm.String">
  &lt;Annotation Term="Core.Description" String="Name that can be used to reference the authorization flow."/>
&lt;/Property>

2) Add the following new complex type to the Auth vocabulary:
&lt;ComplexType Name="SecurityScheme">
  &lt;Property Name="AuthorizationSchemeName" Type="Edm.String">
    &lt;Annotation Term="Core.Description" String="The name of a required authorization scheme"/>
  &lt;/Property>
  &lt;Property Name="RequiredScopes" Type="Collection(Edm.String">
    &lt;Annotation Term="Core.Description" String="The names of scopes required from this authorization scheme."/>
  &lt;/Property>
&lt;ComplexType>

3) Add the following property to the new HTTPRequest type proposed in ODATA-884:
&lt;Property Name="SecuritySchemes" Type="Collection(Auth.SecurityScheme)">
  &lt;Annotation Term="Core.Description" String="At least one of the specified security schemes are required to make the request."/>
&lt;/Property>
</pre>
<p>Mike: Add proposal:</p>
<pre>
4) Add the following term that can be applied to an EntityContainer.
&lt;Term Name="SecuritySchemes" Type="Collection(Auth.SecurityScheme)" AppliesTo="EntityContainer">
  &lt;Annotation Term="Core.Description" String="At least one of the specified security schemes are required to make a request against the service."/>
&lt;/Term>
</pre>
<p>Mike: Updated #3: </p>
<pre>
3) Add the following property to the new HTTPRequest type proposed in ODATA-884:
&lt;Property Name="SecuritySchemes" Type="Collection(Auth.SecurityScheme)">
  &lt;Annotation Term="Core.Description" 
    String="At least one of the specified security schemes are required to make the request. This overrides any SecuritySchemes specified on the EntityContainer."/>
&lt;/Property>
</pre>
<p><b>Mike</b>: I <b>move</b> to resolve ODATA-1145 as proposed. <b>George</b> seconds.</p>
<p>Ralf: ODATA-1145 is RESOLVED as proposed</p>

<h4 id="5.2.2">5.2.2 <a href="https://issues.oasis-open.org/browse/ODATA-1140" rel="noopener noreferrer" target="_blank">ODATA-1140</a> - Add details to HTTPResponseCode term</h4>
<p>Mike: Note: this would be useful for documentation; not particularly useful for clients at runtime.</p>
<pre>
Services do tend to have service-specific error codes and descriptions, but there are typically a lot of them so documenting for each request may be verbose.
</pre>
<p>Ralf: ODATA-1140 is OPEN</p>
<p>Mike: It doesn't appear from a very quick read that OpenAPI has a similar concept in their Response object.</p>
<p>Mike: Renamed <a href="https://issues.oasis-open.org/browse/ODATA-884" rel="noopener noreferrer" target="_blank">ODATA-884</a> to "Enable enumerating the valid requests and responses for a particular resource."</p>
<p><b>Mike</b>: I <b>move</b> we move ODATA-1140 out of 4.01 CS02 to some undefined future. <b>Ralf</b> seconds.</p>
<p>Ralf: No objection, motion passes</p>


<h4 id="5.2.3">5.2.3 <a href="https://issues.oasis-open.org/browse/ODATA-1132" rel="noopener noreferrer" target="_blank">ODATA-1132</a> - Propagation of NavigationRestrictions</h4>
<p>Ralf: Clarify whether/how navigation restrictions "propagate". </p>
<pre>
Assume we have 
- Order entity related to single Customer entity 
- Customer entity related to multiple Address entities 
- a navigation restriction on Customers entity set which lists Addresses as filterable:false. 

Now a client knows that it cannot filter Customers by Addresses. 

Should a client assume that it also cannot filter Orders by Customer/Addresses? 

Or would the service have to explicitly declare navigation restrictions for all entity sets with navigation paths ending in Customer/Addresses?
</pre>
<p>Mike: propagation would require a navigation property binding to be able to identify another source for navigation restrictions</p>
<p>Mike: restrictions may depend on the path</p>
<p>Ralf: Question: is it easier for the server to produce more restrictions, or for the client to walk through all possible navigation paths</p>
<p>George: put burden on service</p>
<p>Mike: makes $metadata more verbose</p>
<p>Mike: In all but the most hypothetical situations, the client would be safe in assuming that restrictions on the entity set applied to restrictions on navigation properties referencing the entity set.</p>
<p>Mike: Proposal: State that clients can assume that restrictions specified on an entity set are valid whether the request is to the entity set or through a navigation property bound to that entity set.</p>
<p>Ralf: means restrictions propagate if there is a nav prop binding</p>
<p>Hubert: can we override a "propagated" restriction?</p>
<p>Mike: Service could specify a different set of restrictions specific to a path, in which case any specified restrictions take precedence.</p>
<p>Mike: Updated (working) proposal:</p>
<pre>
State that clients can assume that restrictions specified on an entity set are 
valid whether the request is to the entity set or through a navigation property 
bound to that entity set.  
Service could specify a different set of restrictions specific to a path, 
in which case any specified restrictions take precedence.
</pre>
<p><b>Ralf</b>: I <b>move</b> to resolve ODATA-1132 as proposed. <b>Hubert</b> seconds.</p>
<p>Ralf: ODATA-1132 is RESOLVED as proposed</p>

<h4 id="5.2.4">5.2.4 <a href="https://issues.oasis-open.org/browse/ODATA-1121" rel="noopener noreferrer" target="_blank">ODATA-1121</a> - Add FilterExpressionType values "MultiRange" and "MultiRangeOrSearchExpression"</h4>
<p>Ralf: </p>
<pre>
Filter expression restrictions where introduced in ODATA-816 to express 
restricted filter capabilities on individual properties that can only be 
used in equality comparison or interval comparison. 

Similar to MultiValue being multiple SingleValues joined by OR, MultiRange 
is multiple SingleRanges joined by OR, with a slight generalization: in 
addition to closed intervals also half-open and open intervals are allowed, 
as well as degenerate intervals (closed intervals with identical lower 
and upper boundary can be expressed simply via EQ). 

This means that MultiRange subsumes SingleRange as well as MultiValue and SingleValue. 

For string-valued properties this can be extended to include multiple SearchExpressions: 
MultiRangeOrSearchExpression, allowing to OR zero or more startswith, endswith, 
or contains functions comparing the property to a string literal. 

These expressions are all fairly simple, including a property, a literal value, 
and at most one level of parentheses. They represent expressions that can be 
constructed by typical "extended search" forms that allow to pick the comparison 
operator and enter the comparison value (or two values for "between").
</pre>
<p>Ralf: Add new allowed values </p>
<pre>
&lt;Record> 
  &lt;PropertyValue Property="Value" String="MultiRange" /> 
  &lt;Annotation Term="Core.Description" String="Property can be compared to a union of one or more closed, half-open, or open intervals" /> 
  &lt;Annotation Term="Core.LongDescription" 
    String="The filter expression for this property consists of one or more interval expressions combined by OR. 
            A single interval expression is either a single comparison of the property and a literal value with eq, 
            le, lt, ge, or gt, or pair of boundaries combined by AND and enclosed in parentheses. 
            The lower boundary is either ge or gt, the upper boundary either le or lt." /> 
&lt;/Record> 
&lt;Record> 
  &lt;PropertyValue Property="Value" String="MultiRangeOrSearchExpression" /> 
  &lt;Annotation Term="Core.Description" 
    String="Property can be compared to a union of zero or more closed, half-open, 
            or open intervals plus zero or more simple string patters" /> 
  &lt;Annotation Term="Core.LongDescription" 
    String="The filter expression for this property consists of one or more interval expressions or string comparison functions combined by OR. 
            See MultiRange for a definition of an interval expression. See SearchExpression for the allowed string comparison functions." /> 
&lt;/Record>
</pre>
<p>Ralf: </p>
<pre>
a lt 5 or (a ge 9 and a le 11)
a lt 'Hugo' or startswith(a, 'Fred')
</pre>
<p>Ralf: ODATA-1121 is OPEN</p>

<h4 id="5.2.5">5.2.5 <a href="https://issues.oasis-open.org/browse/ODATA-1099" rel="noopener noreferrer" target="_blank">ODATA-1099</a> - Add annotations to describe custom query options and custom headers</h4>
<p>Skipped</p>

<h4 id="5.2.6">5.2.6 <a href="https://issues.oasis-open.org/browse/ODATA-1067" rel="noopener noreferrer" target="_blank">ODATA-1067</a> - Consider ability to define computed default values</h4>
<p>Skipped</p>

<h4 id="5.2.7">5.2.7 <a href="https://issues.oasis-open.org/browse/ODATA-1064" rel="noopener noreferrer" target="_blank">ODATA-1064</a> - Add ability to annotate collections to return only count and NextLink</h4>
<p>Skipped</p>

<h4 id="5.2.8">5.2.8 <a href="https://issues.oasis-open.org/browse/ODATA-1005" rel="noopener noreferrer" target="_blank">ODATA-1005</a> - Make sure we have capabilities for all new 4.01 functionality</h4>
<p>Skipped</p>

<h4 id="5.2.9">5.2.9 <a href="https://issues.oasis-open.org/browse/ODATA-884" rel="noopener noreferrer" target="_blank">ODATA-884</a> - Add term ErrorCodes to describe possible codes in error messages (public comment c201510e00019)</h4>
<p>Skipped</p>

<h2 id="6">6. Next meetings</h2>
<p>Ralf:</p>
<pre>
Thursday February 15, 2018 during 8-10 am PST (17:00-19:00 CET) (already confirmed)
Thursday February 22, 2018 during 8-10 am PST
</pre>
<h2 id="7">7. AOB and wrap up</h2>
<p>None</p>
<p>Meeting adjourned by chair.</p>
</div>
</body>
</html>
