<?xml version="1.0" encoding="utf-8"?>
<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" xmlns="http://docs.oasis-open.org/odata/ns/edm"
  Version="4.0"
>
  <edmx:Reference Uri="http://tinyurl.com/Org-OData-Measures-V1">
    <edmx:Include Alias="Core" Namespace="Org.OData.Measures.V1" />
    <edmx:Include Namespace="anotherOne" />
    <Annotation Term="Some.Term" />
  </edmx:Reference>
  <edmx:Reference Uri="http://somewhere/Vocabulary/V1">
    <edmx:IncludeAnnotations TermNamespace="Name.Space" TargetNamespace="Target.Space" />
    <edmx:IncludeAnnotations TermNamespace="Name.Space" TargetNamespace="Target.Space"
      Qualifier="SomeName" />
    <edmx:IncludeAnnotations TermNamespace="NameSpace" Qualifier="SomeName" />
    <edmx:IncludeAnnotations TermNamespace="Name.Space" />
  </edmx:Reference>
  <edmx:DataServices>
    <Schema Namespace="Model1" Alias="Self">
      <Function Name="CreatedEntities">
        <Parameter Name="before" Type="Edm.DateTimeOffset" Nullable="true" />
        <Parameter Name="after" Type="Edm.DateTimeOffset" Nullable="true" />
        <ReturnType Type="Collection(Edm.EntityType)" Nullable="true" />
      </Function>
      <Function Name="TopSellingProducts">
        <Parameter Name="Year" Type="Edm.Decimal" Precision="4" Scale="0" Nullable="true" />
        <ReturnType Type="Collection(Model.Product)">
          <Annotation Term="A.B" String="Works" />
        </ReturnType>
      </Function>
      <Annotation Term="UI.ReferenceFacet" AnnotationPath="@UI.LineItem" />
      <Annotation Term="UI.ReferenceFacet" AnnotationPath="Product/Supplier/@UI.LineItem" Qualifier="OnNavPropTarget" />
      <Annotation Term="UI.ReferenceFacet" AnnotationPath="Product/Supplier@UI.LineItem" Qualifier="OnNavProp" />
      <Annotation Term="UI.ReferenceFacet" AnnotationPath="Product/Supplier@UI.LineItem#Tablet" Qualifier="OnNavPropQualified" />
      <Annotation Term="UI.ReferenceFacet" UrlRef="http://LineItem" Qualifier="ViaUrl" />
      <Annotation Term="UI.ReferenceFacet" AnnotationPath="@x.Supplier#X/Contacts@y.ViewVariants" Qualifier="complicated" />

      <Annotation Term="UI.HyperLink" NavigationPropertyPath="Supplier" />

      <Annotation Term="Is.Null">
        <Annotation Term="Next.to.Null" />
        <Null>
          <Annotation Term="Within.Null" />
        </Null>
      </Annotation>

      <Annotation Term="Vocabulary1.SubTitle">
        <Annotation Term="For.Constant" />
        <Int>1234</Int>
      </Annotation>

      <Annotation Term="A.Bool" Bool="true">
        <Annotation Term="Annotate.A.Bool" />
      </Annotation>
      <Annotation Term="A.Decimal" Decimal="12.34" />
      <Annotation Term="A.Float" Float="1.23e4" />
      <Annotation Term="A.Float" Float="INF" />
      <Annotation Term="A.Float" Float="-INF" />
      <Annotation Term="A.Float" Float="NaN" />
      <Annotation Term="A.Float" Qualifier="Element">
        <Float>1.23e4</Float>
      </Annotation>
      <Annotation Term="An.Int" Int="1234" />
      <Annotation Term="A.String" String="1.23e4" />
      <Annotation Term="A.String" String="Fast&amp;Furious" />
      <Annotation Term="A.String" Qualifier="ToBeEscaped">
        <String>A/"good"&#x0D;&#x0A;story\for&#x09;kids</String>
      </Annotation>

      <Annotation Term="A.Date" Date="2013-10-09" />

      <Annotation Term="Capabilities.UpdateRestrictions">
        <Record Type="Derived.Type">
          <PropertyValue Property="NonUpdatableNavigationProperties">
            <Collection>
              <NavigationPropertyPath>Supplier</NavigationPropertyPath>
              <NavigationPropertyPath>Category</NavigationPropertyPath>
            </Collection>
          </PropertyValue>
        </Record>
      </Annotation>

      <Annotation Term="SearchVocabulary.SearchResult">
        <Record>
          <PropertyValue Property="Title" Path="Name" />
          <PropertyValue Property="Abstract" Path="Description" />
          <PropertyValue Property="Url">
            <Apply Function="odata.concat">
              <Annotation Term="In.Apply" />
              <String>Products(</String>
              <Path>ID</Path>
              <String>)</String>
            </Apply>
          </PropertyValue>
        </Record>
      </Annotation>

      <Annotation Term="org.example.display.DisplayName">
        <If>
          <Annotation Term="In.If" />
          <Path>IsFemale</Path>
          <String>Female</String>
          <String>Male</String>
        </If>
      </Annotation>

      <Annotation Term="UI.CollectionFacet" Qualifier="Contacts">
        <Collection>
          <AnnotationPath>Supplier/@Communication.Contact</AnnotationPath>
          <AnnotationPath>Customer/@Communication.Contact</AnnotationPath>
        </Collection>
      </Annotation>
      <Annotation Term="Some.Thing">
        <And>
          <Or>
            <Eq>
              <Ge>
                <Annotation Term="In.Ge" />
                <Null />
                <Null />
              </Ge>
              <Gt>
                <Null />
                <Null />
              </Gt>
            </Eq>
            <Ne>
              <Lt>
                <Null />
                <Null />
              </Lt>
              <Null />
            </Ne>
          </Or>
          <Not>
            <Le>
              <Float>INF</Float>
              <Null />
            </Le>
          </Not>
        </And>
      </Annotation>
      <Annotation Term="Onelegged.If">
        <If>
          <Bool>true</Bool>
          <Path>Then</Path>
        </If>
      </Annotation>
      <Annotation Term="Twolegged.If">
        <If>
          <Bool>false</Bool>
          <Path>Then</Path>
          <Path>Else</Path>
        </If>
      </Annotation>
      <EnumType Name="Pattern">
        <Member Name="Yellow">
          <Annotation Term="Does.Work" />
          <Annotation Term="For.Testing">
            <IsOf Type="Edm.Binary">
              <Path>Hugo</Path>
            </IsOf>
          </Annotation>
        </Member>
      </EnumType>
      <EntityType Name="Weird">
        <Key>
          <PropertyRef Name="The/Key" Alias="TheKey" />
        </Key>
        <Property Name="TheKey" Type="Edm.PropertyPath" Nullable="false" />
        <Property Name="TheValue" Type="Edm.String" MaxLength="max" Nullable="true" />
        <Property Name="TheString" Type="Edm.String" MaxLength="20" />
        <Property Name="Tags" Type="Collection(Edm.String)" Nullable="true" />
        <Property Type="Edm.Decimal" Name="Price" Scale="variable" />
        <Annotation Term="Some.Term" Qualifier="SomeQualifier">
          <Annotation Term="Some.Term" String="Some Value" />
          <Collection>
            <String>SomeString</String>
            <Date>1212-11-30</Date>
            <DateTimeOffset>2000-01-01T16:00:00.000-09:00</DateTimeOffset>
            <DateTimeOffset>2000-01-01T16:00:00Z</DateTimeOffset>
            <TimeOfDay>23:59:59.123456789012</TimeOfDay>
            <Path>MyAddress/vCard.Address#work/Street</Path>
            <EnumMember>org.example.Pattern/Red</EnumMember>
            <EnumMember>org.example.Pattern/Red org.example.Pattern/Striped</EnumMember>
            <Record>
              <PropertyValue Property="Egon" String="1" />
              <PropertyValue Property="Hugo" String="2">
                <Annotation Term="Some.Term" String="Some Value" />
              </PropertyValue>
              <Annotation Term="Some.Term" String="Some Value" />
            </Record>
            <LabeledElement Name="Attribute" String="Hello" />
            <LabeledElement Name="Element">
              <String>Hello</String>
            </LabeledElement>
            <LabeledElement Name="Record">
              <Record />
            </LabeledElement>
            <LabeledElementReference>Model.Attribute</LabeledElementReference>
          </Collection>
        </Annotation>
        <Annotation Term="Vocab.GIQSupplier">
          <UrlRef>
            <String>http://www.odata.org</String>
          </UrlRef>
        </Annotation>
        <Annotation Term="Vocab.GIQSupplier">
          <UrlRef>
            <Apply Function="odata.fillUriTemplate">
              <String>http://host/service/Suppliers({suppID})</String>
              <LabeledElement Name="suppID">
                <Apply Function="odata.UriEncode">
                  <Path>@SupplierId</Path>
                  <DateTimeOffset>2013-04-08T23:00:00.0Z</DateTimeOffset>
                </Apply>
              </LabeledElement>
            </Apply>
          </UrlRef>
        </Annotation>
        <Annotation Term="org.example.display.DisplayName">
          <Cast SRID="variable" Scale="variable" Type="Edm.String">
            <String>Product Catalog</String>
          </Cast>
        </Annotation>
        <Annotation Term="Self.IsPreferredCustomer">
          <IsOf SRID="variable" Type="Self.PreferredCustomer">
            <Path>Customer/$count</Path>
          </IsOf>
        </Annotation>
        <Annotation Term="Some.Binary" Binary="Zg" />
        <Annotation Term="Some.Binary" Binary="Zg==" />
        <Annotation Term="Some.Binary" Binary="Zm8" />
        <Annotation Term="Some.Binary" Binary="Zm8=" />
        <Annotation Term="Some.Binary">
          <Binary>HugoHase-_ab</Binary>
        </Annotation>
      </EntityType>

      <ComplexType Name="Address" OpenType="true">
        <Property Name="Street" Type="Edm.String" />
        <NavigationProperty Name="City" Type="MyModel.City" />
        <Property Name="Street" Type="Edm.String" />
        <NavigationProperty Name="Region" Type="MyModel.Region" />
        <NavigationProperty Name="Country" Type="MyModel.Country" />
        <Property Name="MapLocation" Type="Edm.GeographyPoint" SRID="variable" />
      </ComplexType>

      <ComplexType Name="NavigationOnly">
        <NavigationProperty Name="Planet" Type="Some.Planet" />
      </ComplexType>

      <ComplexType Name="AnnotationOnly">
        <Annotation Term="Some.Tag" />
      </ComplexType>

      <EntityType Name="Order" Abstract="true">
        <Property Name="Quantity" Type="Edm.Decimal">
          <Annotation Term="Measures.Unit" Path="ShippingUnit" />
        </Property>
        <Property Name="ShippingUnit" Type="Edm.String">
          <Annotation Term="Core.Description" String="Contains the unit for property Quantity" />
        </Property>
      </EntityType>

      <TypeDefinition Name="Fixedstring" UnderlyingType="Edm.String" />

      <EntityContainer Name="Sales">
        <EntitySet Name="StandardCustomers" EntityType="Self.Customer">
          <NavigationPropertyBinding Path="Orders" Target="Orders" />
        </EntitySet>
        <EntitySet Name="PreferredCustomer" EntityType="Self.Customer">
          <NavigationPropertyBinding Path="Orders" Target="Orders" />
        </EntitySet>
        <EntitySet Name="Orders" EntityType="Self.Order" />
      </EntityContainer>
    </Schema>

    <Schema Namespace="Schema.One" Alias="Self">
      <Function Name="OddWaldos" IsBound="true" EntitySetPath="in">
        <Parameter Name="in" Type="Collection(Self.Waldo)" />
        <ReturnType Type="Collection(Self.Waldo)" />
      </Function>
      <Action Name="Rejection" IsBound="true">
        <Parameter Name="Reason" Type="Edm.String" MaxLength="max" Nullable="true" />
      </Action>
      <EntityType Name="Waldo">
        <Key>
          <PropertyRef Name="ID" />
        </Key>
        <Property Name="ID" Type="Edm.String" Nullable="false" />
      </EntityType>
      <EntityContainer Name="Default">
        <FunctionImport Name="Bar" Function="Self.Foo" />
        <EntitySet Name="Waldos" EntityType="Self.Waldo" />
      </EntityContainer>
    </Schema>

    <Schema Namespace="Schema.One" Alias="Self">
      <Function Name="Foo">
        <ReturnType Type="Edm.String" />
      </Function>
    </Schema>
    <Schema Namespace="Schema.Two" Alias="Self">
      <EntityType Name="Waldo" Abstract="true">
        <Property Name="Fred" Type="Edm.String" />
      </EntityType>
      <EntityType Name="Fred">
        <Key>
          <PropertyRef Name="ID" />
        </Key>
        <Property Name="ID" Type="Edm.String" Nullable="false" />
        <NavigationProperty Name="Waldos" Type="Collection(Self.Waldos)" />
      </EntityType>
      <EntityContainer Name="Default">
        <FunctionImport Name="Bar" Function="Other.Foo" IncludeInServiceDocument="true"
          EntitySet="Namespace.Container/Freds" />
        <FunctionImport Name="CreatedEntities" Function="Model.CreatedEntities" EntitySet="Waldos" />
        <FunctionImport Name="Bar" Function="Other.Foo" />
        <EntitySet Name="Waldos" EntityType="Self.Waldo" />
        <EntitySet Name="Freds" EntityType="Self.Fred">
          <NavigationPropertyBinding Target="Waldos" Path="Waldos" />
          <NavigationPropertyBinding Target="Namespace.Container/Freds" Path="MoreWaldos" />
          <NavigationPropertyBinding Target="Namespace.Container/Orders/Items/M.E/Nav" Path="EvenMoreWaldos" />
        </EntitySet>
      </EntityContainer>
    </Schema>


    <!-- Examples for ODATA-535 -->
    <Schema Namespace="X">
      <Term Name="Person" Type="X.PersonType" />
      <Term Name="Team" Type="Collection(X.PersonType)">
        <Annotation Term="custom.ItemIsA" String="X.Person" />
      </Term>
      <Term Name="Movie" Type="X.MovieType" />
      <Term Name="Friend" Type="X.FriendType" /> <!-- X.FriendType is an EntityType -->
    </Schema>
    <Schema Namespace="Y">
      <Term Name="Developer" BaseTerm="X.Person" Type="Y.DeveloperType" />
      <ComplexType Name="DeveloperType" BaseType="X.PersonType">
        <!-- additional properties -->
      </ComplexType>

      <Annotations Target="Some.EntityType">
        <Annotation Term="X.Person">
          <Record>
            <!-- property values defined on X.PersonType go here -->
          </Record>
        </Annotation>
        <Annotation Term="Y.Developer">
          <Record>
            <!-- property values not already specified in the base term annotation go here -->
          </Record>
        </Annotation>
      </Annotations>

      <Term Name="DevelopmentTeam" Type="Collection(Y.DeveloperType)">
        <Annotation Term="custom.ItemIsA" String="Y.Developer" />
        <Annotation Term="custom.IsA" String="X.Team" />
        <!--
          cannot express that with BaseType because it would be hard to have
          both a DevelopmentTeam and a Team annotation and then correlate the records
        -->
      </Term>

      <Annotations Target="Some.EntityType">
        <Annotation Term="Y.DevelopmentTeam">
          <Annotation Term="custom.IsA" String="X.Team" />
          <Path>SomeCollectionNavProp/@Y.Developer</Path>
        </Annotation>
      </Annotations>

      <Term Name="ScrumTeam" BaseTerm="Y.DevelopmentTeam" Type="Y.ScrumTeamType" />
      <ComplexType Name="ScrumTeamType">
        <Property Name="ScrumMaster" Type="Y.DeveloperType">
          <Annotation Term="custom.IsA" String="Y.Developer X.Person" />
        </Property>
      </ComplexType>
      <Annotations Target="Some.EntityType">
        <Annotation Term="Y.DevelopmentTeam">
          <Annotation Term="custom.IsA" String="X.Team" />
          <Path>SomeCollectionNavProp/@Y.Developer</Path>
        </Annotation>
        <Annotation Term="Y.ScrumTeam">
          <Record>
            <PropertyValue Property="ScrumMaster">
              <Annotation Term="custom.IsA" String="Y.Developer X.Person" />
              <!--
                cannot express that in complex type definition unless we make
                terms and types interchangeably everywhere
              -->
              <Record>
                <!-- property values for Y.DeveloperType go here -->
              </Record>
            </PropertyValue>
          </Record>
        </Annotation>
      </Annotations>

      <Term Name="Movies" Type="Collection(X.Movie)" />
      <Annotations Target="Some.EntityType">
        <Annotation Term="Y.Movies">
          <Path>AllMyMovies</Path>
        </Annotation>
      </Annotations>


      <Annotations Target="MySchema.MyEntityContainer/MyEntitySet/MySchema.MyEntityType/MyProperty">
        <Annotation Term="Y.Movies">
          <Path>AllMyMovies</Path>
        </Annotation>
      </Annotations>


      <Term Name="ArchivedMovies" Type="Collection(Y.ArchivedMovieType)">
        <Annotation Term="custom.ItemIsA" String="X.Movie" />
      </Term>
      <ComplexType Name="ArchivedMovieType" BaseType="X.MovieType">
        <Annotation Term="custom.IsA" String="X.Movie" />
        <Property Name="ArchivedAt" Type="Edm.Date" />
      </ComplexType>
      <Annotations Target="Some.EntityType">
        <Annotation Term="Y.ArchivedMovies">
          <Annotation Term="custom.ItemIsA" String="X.Movie" />
          <Path>MoviesInStorage</Path>
        </Annotation>
      </Annotations>

      <Term Name="SomeThing" Type="Y.SomeThingType" />
      <ComplexType Name="SomeThingType">
        <Property Name="SomeProperty" Type="Edm.String" />
        <Property Name="Contacts" Type="Collection(X.PersonType)">
          <Annotation Term="custom.ItemIsA" String="X.Person" />
        </Property>
        <NavigationProperty Name="VIPs" Type="Collection(X.Friend)">
          <Annotation Term="custom.ItemIsA" String="X.Friend" />
        </NavigationProperty>
      </ComplexType>
      <Annotations Target="Some.EntityType">
        <Annotation Term="Y.Something">
          <Record>
            <PropertyValue Property="SomeProperty" String="SomeThing" />
            <PropertyValue Property="Contacts">
              <Annotation Term="custom.ItemIsA" String="X.Person" />
              <Path>MyContacts</Path>
            </PropertyValue>
            <PropertyValue Property="VIPs">
              <Annotation Term="custom.ItemIsA" String="X.Person" />
              <Path>MyBestFriends</Path>
            </PropertyValue>
          </Record>
        </Annotation>
      </Annotations>
    </Schema>

  </edmx:DataServices>
</edmx:Edmx>