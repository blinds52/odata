<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>OData TC meeting #123 Thursday Mar 10, 2016</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
body{-webkit-font-smoothing:antialiased;font:Cambria,Arial,Verdana,sans-serif;margin:0} body {margin-left:2%}
body,p,td,div{color:#111;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;/*word-wrap:break-word*/}
h1,h2,h3,h4,h5,h6{line-height:1.5em}
a{-webkit-transition:color .2s ease-in-out;color:#0d6ea1;text-decoration:none}
a:hover{color:#3593d9}.footnote{color:#0d6ea1;font-size:.8em;vertical-align:super}dd{margin-bottom:1em}
li>p:first-child{margin:0}ul ul,ul ol{margin-bottom:.4em}.poetry
pre{display:block;font-family:Georgia,Garamond,serif!important;font-size:110%!important;font-style:italic;line-height:1.6em;margin-left:1em}
.poetry pre code{font-family:Georgia,Garamond,serif!important}
sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;position:relative;vertical-align:super}sub{vertical-align:sub;top:-1px}
p,h5{font-size:1.1429em;line-height:1.3125em;margin:1.3125em 0}dt,th{font-weight:700}
@media print{body{overflow:auto}img,pre,blockquote,table,figure{page-break-inside:avoid}
.footnotes{page-break-before:always}#wrapper{background:#fff;color:#303030;font-size:85%;padding:10px;position:relative;text-indent:0}}
@media screen{/*::selection{background:rgba(157,193,200,.5)}*/.inverted{background:#333}
.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted pre,.inverted code,.inverted th{color:#eee!important}
.inverted a{color:#fff;text-decoration:underline}#wrapper{padding:20px}.inverted #wrapper{background:#333}}
</style>
</head>
<body class="normal">
  <div id="wrapper">
<h1>OData TC meeting #123 Thursday Mar 10, 2016</h1>
<p>Acting chair: Ralf</p>
<pre>Chat transcript from room: odatatc
2016-03-10 0800-1000 PT
</pre>
<h2>1. Roll call</h2>

<h3>1.1 Members present</h3>
<pre>
        Gerald Krause (SAP SE)
        Hubert Heijkers (IBM)
        Ken Baclawski (Northeastern University)
        Mark Biamonte (Progress Software)
        Martin Zurmuehl (SAP SE)
        Michael Pizzo (Microsoft) a.k.a. Mike
        Ralf Handl (SAP SE)
        Stefan Hagen (Individual)
        Susan Malaika (IBM)
        Ted Jones (Red Hat)
</pre>

<p>Quorum achieved. Details cf. <a href="https://www.oasis-open.org/apps/org/workgroup/odata/event.php?event_id=41453">normative attendance sheet for this meeting (event_id=41453)</a>.</p>

<p>Notes taken by all and subsequently edited for readability by Stefan.</p>

<h2>2. Approve agenda</h2>

<p>The agenda is approved with addition of discussion of spec organization topic right after action.</p>

<h2>3. Approve minutes from previous meeting(s)</h2>

<h3>3.1 Minutes from March 02 - March 03, 2016 TC meeting #122</h3>
<p><a href="https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57676/latest/odata-meeting-122_on-20160302_03-F2F_minutes.html" target="_blank">https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57676/latest/odata-meeting-122_on-20160302_03-F2F_minutes.html</a></p>
<p>Minutes approved unchanged as published</p>

<h2>4. Review action items</h2>
<h3>4.1 Action items due March 10, 2016</h3>
<p>None.</p>


<h2>5. Errata 3 Issues</h2>
<p>Review applications of Errata 3 issue resolutions (This is a carryover from previous meeting)</p>
<h3>5.1 Review application of ODATA-803 and ODATA-912 and any other pending issues</h3>

<p><b>Mike</b>: I <b>move</b> we close ODATA-803 and ODATA-912 as applied. <b>Stefan</b> seconds.</p>
<p>No objections. ODATA-803 and ODATA-912 are CLOSED as applied.</p>

<h4>List of the 2 issues closed above as applied:</h4>
<ol>
<li><a href="https://issues.oasis-open.org/browse/ODATA-803" target="_blank">ODATA-803</a> - Collection-valued property: Define default value for nullable facet</li>
<li><a href="https://issues.oasis-open.org/browse/ODATA-912" target="_blank">ODATA-912</a> - Clarify what clients should do if they see an unknown/invalid expression for a known annotation term.</li>
</ol>

<h2>6. Approve Errata 03 docs for public review</h2>

<p><b>Mike</b>: I <b>move</b> that the TC approve OData version 4.0 Errata 03 Working Draft 01 and all associated artifacts packaged together in <a href="https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57717/odata-v4.0-errata03-wd01-2016-03-10.zip" target="_blank">https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57717/odata-v4.0-errata03-wd01-2016-03-10.zip</a> as Errata Draft 03 to OData v4.0 OASIS Standard approved on 24 February 2014 and confirm that the errata corrections do not constitute Substantive Changes to the Standard. Further, I move that the TC approve submitting OData version 4.0 Errata 03 contained in <a href="https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57717/odata-v4.0-errata03-wd01-2016-03-10.zip" target="_blank">https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57717/odata-v4.0-errata03-wd01-2016-03-10.zip</a> for 15 days of public review. <b>Mark</b> seconds.</p>
<p>No objections. The motion carries</p>


<p><b>Mike</b>: I <b>move</b> that the TC approve OData JSON Format version 4.0 Errata 03 Working Draft 01 and all associated artifacts packaged together in <a href="https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57718/odata-json-format-v4.0-errata03-wd01-2016-03-03.zip" target="_blank">https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57718/odata-json-format-v4.0-errata03-wd01-2016-03-03.zip</a> as Errata Draft 03 to OData JSON Format v4.0 OASIS Standard approved on 24 February 2014 and confirm that the errata corrections do not constitute Substantive Changes to the Standard. Further, I move that the TC approve submitting OData JSON Format version 4.0 Errata 03 contained in in <a href="https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57718/odata-json-format-v4.0-errata03-wd01-2016-03-03.zip" target="_blank">https://www.oasis-open.org/apps/org/workgroup/odata/download.php/57718/odata-json-format-v4.0-errata03-wd01-2016-03-03.zip</a> for 15 days of public review<b>Stefan</b> seconds.</p>
<p>No objections. The motion carries</p>

<h2>7. V4.01 Issues - Issues for V4.01_WD01 in New or Open state</h2>

<h3>7.1 Set Operations</h3>

<h4>7.1.1 <a href="https://issues.oasis-open.org/browse/ODATA-820" target="_blank">ODATA-820</a> - Allow indexing into collections</h4>

<p>Ralf: Collecting discussion items:</p>
<blockquote>
Allow negative indexes in requests<br>
Require non-negative indexes in responses/context URLs<br>
Index -1 would be the last instance in the collection<br>
This means GET Something/-1 returns the last instance<br>
POST Something?$index=-1 would insert just before the last one because it identifies the last one and the insert always happens before the identified instance
</blockquote>

<p>Mike: Updated proposal reflecting the live discussion during the meeting:</p>

<ol type="1">
<li>Introduce array collections [ODATA-820] 
<ol type="a">
<li>Define new term, "Ordered", to advertise that a collection has a stable order. If it is a collection of primitive or complex types it can be indexed by ordinal: <br>
<pre>
&lt; Term Name="Ordered" Type="Core.Tag" DefaultValue="true" AppliesTo="Property,NavigationProperty,EntitySet,ReturnType"> 
    &lt; Annotation Term="Core.Description" String="Collection has a stable order. Ordered collections of primitive or complex types can be indexed by ordinal."/> 
&lt; /Term> 
</pre></li>
<li>GET/PUT/PATCH/DELETE to the /{index} of an ordered collection of primitive or complex types retrieves/replaces/modifies/deletes just that item
<ol type="i">
<li>/index cannot be appended to collections of entities or non-ordered collections</li>
<li>Index is zero-based ordinal and follows JSONPointer syntax: collection/index</li>
<li>Clients can specify a negative index to say "from the end" with -1 being the last entry. services must not specify a negative value for an index.</li>
</ol>
</li>
<li>Update section 7.1.5 of the CSDL spec to note that it is possible to have an ordered collection of complex types with navigation properties.</li>
</ol></li>

<li>Define a new "PositionalInsert" term to advertise that a collection supports inserting at a given ordinal [ODATA-820]<br>
<pre>
&lt;Term Name="PositionalInsert" Type="Core.Tag" Default="true" AppliesTo="Property, NavigationProperty, EntitySet">
    &lt;Annotation Term="Core.Description" String="Items can be inserted at a given ordinal index."/>
&lt;/Term> 
</pre>
</li>

<li>For collections of entity, complex, or primitive types annotated with PositionalInsert, client may specify new ?$index= query parameter in POST request to collection to specify the non-negative, zero-based ordinal position where the item is inserted [ODATA-820]
<ol type="a">
<li>Clients can specify a negative index to say "from the end" with -1 being "insert before the last entry".</li>
</ol>
</li>
</ol>

<p><b>Gerald</b>: I <b>move</b> we resolve ODATA-820 as proposed. <b>Mike</b> seconds.</p>
<p>No objections. ODATA-820 is RESOLVED with the amended proposal.</p>


<h4>7.1.2 <a href="https://issues.oasis-open.org/browse/ODATA-616" target="_blank">ODATA-616</a> - Allow POST to collections of complex and primitive types, and DELETE with $filter</h4>

<p>Mike: Revised proposal resulting from live discussion:</p>
<ol type="1">
<li>POST of a single item to a collection of complex or primitive types adds that item to the collection (as it does today with entity types.). POST to an ordered collection adds to the end. ?$index can be used to insert other locations in an ordered collection </li>
<li>DELETE to any collection without a $filter clears the collection [ODATA-616]</li>
</ol>

<p><b>Mike</b>: I <b>move</b> we resolve ODATA-616 as proposed. <b>Gerald</b> seconds.</p>
<p>No objections. ODATA-616 is RESOLVED as proposed.</p>


<h4>7.1.3 <a href="https://issues.oasis-open.org/browse/ODATA-615" target="_blank">ODATA-615</a> - Allow PATCH and DELETE with $filter on collections to modify or delete all (and only) the matching entities</h4>

<p>Mike: Revised proposal resulting from live discussion:</p>
<ol type="1">
<li>DELETE to any collection with a $filter clause removes any element matching that filter. [ODATA-616], [ODATA-615]
<ol type="a">
<li>$expand can be used to delete related entities (deep delete)</li>
<li>$select, $orderby, $top, $skip are NOT expected to be supported</li></ol></li>
<li>PUT against a collection of primitive/complex types takes a collection (format is same as for a GET on the collection) in the payload and replaces the entire collection. [ODATA-615] (all or nothing)
<ol type="a"><li>PUT does not support $filter.</li>
<li>This is the existing 4.0 behavior</li></ol></li>
<li>PUT is not supported against an entity collection [ODATA-615] </li>
<li>PATCH to any collection with a payload containing a single instance updates each element in the collection [ODATA-615]
<ol type="a"><li>If $filter is present, applies patch to those items matching the $filter [ODATA-615]</li></ol></li>
<li>PATCH to a collection of primitive or complex types with a collection payload is not supported  [ODATA-615]</li>
</ol>

<p><b>Mike</b>: I <b>move</b> we approve ODATA-615 as proposed. <b>Gerald</b> seconds.</p>
<p>No objections. ODATA-615 is RESOLVED as proposed.</p>

<h5>7.1.3.1 End fo Issue Processing</h5>

<h3>8. Next meeting</h3>

<h4>8.1 Next Meeting Thursday March 17, 2016 0800-1000 PT</h4>
<p>Ralf: Europeans: note that next meeting starts at 16:00 CET as USA has already switched to daylight saving time</p>

<h3>9. AOB and wrap up</h3>

<p>None.</p>

<p>Meeting adjourned by chair.</p>


</div>
</body>
</html>