<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>OData TC meeting #172 Thursday Apr 27, 2017</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
body{-webkit-font-smoothing:antialiased;font-family:Cambria,Arial,Verdana,sans-serif;margin:0} body {margin-left:2%}
body,p,td,div{color:#111;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;/*word-wrap:break-word*/}
h1,h2,h3,h4,h5,h6{line-height:1.5em}
a{-webkit-transition:color .2s ease-in-out;color:#0d6ea1;text-decoration:none}
a:hover{color:#3593d9}.footnote{color:#0d6ea1;font-size:.8em;vertical-align:super}dd{margin-bottom:1em}
li>p:first-child{margin:0}ul ul,ul ol{margin-bottom:.4em}.poetry
pre{display:block;font-family:Georgia,Garamond,serif!important;font-size:110%!important;font-style:italic;line-height:1.6em;margin-left:1em}
.poetry pre code{font-family:Georgia,Garamond,serif!important}
sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;position:relative;vertical-align:super}sub{vertical-align:sub;top:-1px}
p,h5{font-size:1.1429em;line-height:1.3125em;margin:1.3125em 0}dt,th{font-weight:700}p{margin:0.7ex 2.0em}pre{margin-left:4em;}
p.note{font-size:75%}
.code-like{font-family:monospace;font-size:120%!important}
@media print{body{overflow:auto}
#wrapper{background:#fff;color:#303030;font-size:85%;padding:10px;position:relative;text-indent:0}}
@media screen{/*::selection{background:rgba(157,193,200,.5)}*/.inverted{background:#333}
.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted pre,.inverted code,.inverted th{color:#eee!important}
.inverted a{color:#fff;text-decoration:underline}#wrapper{padding:20px}.inverted #wrapper{background:#333}}
</style>
<!-- # grep -v excluding_those_lines __file__ |shasum -a 512 -->
<!-- sha512_excluding_those_lines='07ed3e6cc64297f9f80150f7f63daf9083385168b32d4f251d37ea8d1e0b18983d40ab35c288e1a989658c124a20d76879e8be038f622aa00438e306068d7c7a' -->
</head>
<body class="normal">
  <div id="wrapper">
<h1>OData TC meeting #172 Thursday Apr 27, 2017</h1>
<p>Acting chair: Ralf</p>
<pre>Chat transcript from room: odatatc
2017-04-27 0800-1000 PDT
</pre>
<h2>1. Roll call</h2>

<h3>1.1 Members present</h3>
<pre>
    George Ericson (Dell)
    Gerald Krause (SAP SE)
    Hubert Heijkers (IBM)
    Mark Biamonte (Progress Software)
    Martin Zurmuehl (SAP SE)
    Michael Pizzo (IBM) a.k.a. Mike
    Ralf Handl (SAP SE)
    Ramesh Reddy (Red Hat)
    Stefan Hagen (Individual)
</pre>

<p>Quorum achieved. Details cf. <a href="https://www.oasis-open.org/apps/org/workgroup/odata/event.php?event_id=43975">normative attendance sheet for this meeting (event_id=43975)</a>.</p>

<p>Notes taken by all and subsequently edited for readability by Stefan.</p>

<h2>2. Approve agenda</h2>
<p>Ralf: ODATA-1066 to be added as agenda item 5.1.3</p>
<p>Agenda is approved.</p>

<h2>3. Approve minutes from previous meeting(s)</h2>
<h3>3.1 Minutes from April 20, 2017 TC meeting #171</h3>
<p><a href="https://www.oasis-open.org/committees/download.php/60560/odata-meeting-171_on-20170420-minutes.html" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60560/odata-meeting-171_on-20170420-minutes.html</a></p>
<p>Ralf: Section 5.2.1<br>
Walkthrough stopped before XXXXXX<br>
change to "stopped in 13.1.1 OData 4.0 Minimal Conformance"</p>
<p>Minutes are approved with this correction.</p>
<p><b>Updated</b> revision: <a href="https://www.oasis-open.org/committees/download.php/60619/odata-meeting-171_on-20170420-minutes.html" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60619/odata-meeting-171_on-20170420-minutes.html</a></p>

<h2>4. Review action items [<a href="https://www.oasis-open.org/apps/org/workgroup/odata/members/action_items.php" rel="noopener noreferrer" target="_blank">Link to Action item list</a>]</h2>
<h3>4.1 Action items due</h3>
<p>None</p>

<h2>5. V4.01</h2>
<h3>5.1 Issues for V4.01_CSD02 ready for resolution</h3>

<h4>5.1.1 <a href="https://issues.oasis-open.org/browse/ODATA-1005" rel="noopener noreferrer" target="_blank">ODATA-1005</a> - Make sure we have capabilities for all new 4.01 functionality - just a reminder</h4>

<p>Nothing specific minuted</p>

<h4>5.1.2 <a href="https://issues.oasis-open.org/browse/ODATA-1065" rel="noopener noreferrer" target="_blank">ODATA-1065</a> - Generalize Edm.AnyPath to be a path to any model element and rename it to Edm.ModelElementPath</h4>

<p>Mike likes it because it says what the path is targeting</p>
<p>Martin agrees</p>
<p><b>Mike</b>: I <b>move</b> we re-resolve ODATA-1065 with the new name, as proposed. <b>Martin</b> seconds.</p>
<p>Ralf: ODATA-1065 is re-resolved as proposed</p>

<h4>5.1.3 <a href="https://issues.oasis-open.org/browse/ODATA-1066" rel="noopener noreferrer" target="_blank">ODATA-1066</a> - Consider supporting optional operation parameters</h4>

<p>Ralf: ODATA-1066 is OPEN</p>

<p>Ralf: Proposal:<br>
1) Add a new OptionalParameter annotation:</p>
<pre>
  &lt;Term Name="OptionalParameter" Type="Core.Tag" DefaultValue="true" AppliesTo="Parameter"> 
    &lt;Annotation Term="Core.Description" String="Supplying a value for the parameter is optional." /> 
  &lt;/Term> 
</pre>
<p>
2) All parameters marked optional must come after any parameters not marked optional <br>
<br>
3) Keep existing rules for function overloads. <br>
<br>
4) In function resolution: <br>
&nbsp;&nbsp;i) If the set of specified params exactly matches a function overload, chose it. <br>
&nbsp;&nbsp;ii) If the set of specified params matches a subset of parameters that includes all required parameters for exactly one function overload, choose it <br>
&nbsp;&nbsp;iii) otherwise, return 400 with an error stating that request was ambiguous</p>

<p>Mike: With current proposal, you can have multiple overloads with different sets of optional parameters, but you may get a 400 if there is ambiguity in resolving (i.e., case iii)</p>
<p>Mike: Alternate proposal would be to allow at most one overload per binding type that specified optional parameters. This would eliminate case iii... Could also require that no overloads for the same binding parameter use the same name for any optional parameters (and require uniqueness across required parameters)</p>
<p>Mike: Alternate: services should avoid ambiguity; what happens if there is ambiguity is specific to the service.</p>
<p>Mike: If we defined something like:</p>
<pre>
&lt;ComplexType Name="OptionalParameterType" Type="Edm.Untyped"> 
  &lt;Property Name="IsOptional" Type="Edm.Boolean" DefaultValue = "true"/>
  &lt;Property Name="DefaultValue" Type="Edm.Untyped">
    &lt;Annotation Term="Core.Description" String="Default value for an optional parameter" /> 
  &lt;/Property>
&lt;/Term>
</pre>
<p>Mike: If we defined:

<pre>
&lt;ComplexType Name="OptionalParameterType"> 
  &lt;Property Name="IsOptional" Type="Edm.Boolean" DefaultValue = "true"/>
  &lt;Property Name="DefaultValue" Type="Edm.Untyped">
    &lt;Annotation Term="Core.Description" String="Default value for an optional parameter" /> 
  &lt;/Property>
&lt;/Term>
&lt;Term Name="OptionalParameter" Type="Core.OptionalParameterType" AppliesTo="Parameter"> 
  &lt;Annotation Term="Core.Description" String="Supplying a value for the parameter is optional." /> 
&lt;/Term>
&lt;Annotation Term="OptionalParameter"/>
</pre>
<p>Mike: This way to specify a default value:</p>
<pre>
&lt;Annotation Term="OptionalParameter">
  &lt;Record>
    &lt;PropertyValue Name="IsOptional" Bool="true"/>
    &lt;PropertyValue Name="DefaultValue" Bool="true"/>
  &lt;/Record>
&lt;/Annotation>
</pre>
<p>Mike: If we defined default value as a string (as we do for the defaultvalue facet on a property):</p>
<pre>
&lt;ComplexType Name="OptionalParameterType"> 
  &lt;Property Name="IsOptional" Type="Edm.Boolean" DefaultValue = "true"/>
  &lt;Property Name="DefaultValue" Type="Edm.String">
    &lt;Annotation Term="Core.Description" String="Default value for an optional parameter" /> 
  &lt;/Property>
&lt;/Term>
</pre>
<p>Mike: Then the string would be an expression evaluated by the client:</p>
<pre>
&lt;Annotation Term="OptionalParameter">
  &lt;Record>
    &lt;PropertyValue Name="IsOptional" Bool="true"/>
    &lt;PropertyValue Name="DefaultValue" String="true"/>
  &lt;/Record>
&lt;/Annotation>
</pre>
<p>Ralf:</p>

<pre>
&lt;Term Name="DerivedDefaultValue" Type="Edm.String" AppliesTo="Property">
  &lt;!-- &lt;Annotation Term="Common.IsFunctionImport" /> -->
  &lt;Annotation Term="Core.Description">
    &lt;String>Function import to derive a default value for the property from a given context.&lt;/String>
  &lt;/Annotation>
  &lt;Annotation Term="Core.LongDescription">
    &lt;String>
      Function import has two parameters of complex types:

      - `parameters`, a structure resembling the entity type the parameter entity set related to the entity set of the annotated property

      - `properties`, a structure resembling the type of the entity set of the annotated property

      The return type must be of the same type as the annotated property.

      Arguments passed to the function import are used as context for deriving the default value. 
      The function import returns this default value, or null in case such a value could not be determined.
    &lt;/String>
  &lt;/Annotation>
&lt;/Term>
</pre>

<p>Mike:</p>
<pre>
&lt;Annotation Term="org.example.display.DisplayName">
  &lt;Apply Function="odata.concat">
    &lt;String>Product: &lt;/String>
    &lt;Path>ProductName&lt;/Path>
    &lt;String> (&lt;/String>
    &lt;Path>Available/Quantity&lt;/Path>
    &lt;String> &lt;/String>
    &lt;Path>Available/Unit&lt;/Path>
    &lt;String> available)&lt;/String>
  &lt;/Apply>
&lt;/Annotation>
</pre>
<p>Mike: Proposal:<br>
<br>
1) Add a new OptionalParameter annotation:</p>
<pre>
&lt;Term Name="OptionalParameter" Type="Core.OptionalParameterType" AppliesTo="Parameter"> 
  &lt;Annotation Term="Core.Description" String="Supplying a value for the parameter is optional." /> 
&lt;/Term>

&lt;ComplexType Name="OptionalParameterType"> 
  &lt;Property Name="IsOptional" Type="Edm.Boolean" DefaultValue = "true"/>
  &lt;Property Name="DefaultValue" Type="Edm.String">
    &lt;Annotation Term="Core.Description" String="Default value for an optional parameter, using the same rules for the default value facet of a property." /> 
  &lt;/Property>
&lt;i/Term>
</pre>
<p>
2) All parameters marked optional must come after any parameters not marked optional<br>
<br>
3) Keep existing rules for function overloads.<br>
<br>
4) In function resolution:<br>
&nbsp;&nbsp;i) If the set of specified params exactly matches a function overload, chose it.<br>
&nbsp;&nbsp;ii) If the set of specified params matches a subset of parameters that includes all required parameters for exactly one function overload, choose it<br>
<br>
5) Services should avoid ambiguity. If there is ambiguity then services may return 400 with an error stating that request was ambiguous</p>

<p><b>Hubert</b>: I <b>move</b> to resolve ODATA-1066 as per the amended proposal. <b>Martin</b> seconds.</p>
<p>Ralf: ODATA-1066 is RESOLVED with the amended proposal</p>

<h3>5.2 Document walkthrough</h3>

<h4>5.2.1 Part 1: Protocol</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60437/odata-v4.01-wd02-part1-protocol-2017-04-05.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60437/odata-v4.01-wd02-part1-protocol-2017-04-05.docx</a></p>
<p>All walk through the document, discuss and perform online changes during the meeting.</p>

<h4>5.2.2 Part 2: URL Conventions</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60438/odata-v4.01-wd02-part2-url-conventions-2017-04-05.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60438/odata-v4.01-wd02-part2-url-conventions-2017-04-05.docx</a></p>
<p>Skipped</p>

<h4>5.2.3 JSON Format</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60365/odata-json-format-v4.01-wd02-2017-03-24.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60365/odata-json-format-v4.01-wd02-2017-03-24.docx</a></p>
<p>Skipped</p>

<h4>5.2.4 CSDL JSON Representation</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60500/odata-csdl-json-v4.01-wd01-2017-04-10.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60500/odata-csdl-json-v4.01-wd01-2017-04-10.docx</a></p>
<p>Skipped</p>

<h4>5.2.5 CSDL XML Representation</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60499/odata-csdl-xml-v4.01-wd02-2017-04-10.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60499/odata-csdl-xml-v4.01-wd02-2017-04-10.docx</a></p>
<p>Skipped</p>

<h4>5.2.6 New in OData 4.01</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60439/new-in-odata-v4.01-wd01-2017-04-05.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60439/new-in-odata-v4.01-wd01-2017-04-05.docx</a></p>
<p>Skipped</p>

<h2>6. Next meetings</h2>

<h3>6.2 Next Meeting on May 04, 2017, during 08:00-11:00 am PDT</h3> 
<p>Ralf: (17:00-20:00 CEST) usual start but one hour longer decided during meeting.</p>

<h3>6.2 Meeting after that on May 11, 2017, during 07:00-10:00 am PDT</h3> 
<p>No decision on timeslot.</p>

<h2>7. AOB and wrap up</h2>
<p>None</p>

<p>Meeting adjourned by chair.</p>

</div>
</body>
</html>
