<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>OData TC meeting #169 Thursday Apr 06, 2017</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
body{-webkit-font-smoothing:antialiased;font-family:Cambria,Arial,Verdana,sans-serif;margin:0} body {margin-left:2%}
body,p,td,div{color:#111;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;/*word-wrap:break-word*/}
h1,h2,h3,h4,h5,h6{line-height:1.5em}
a{-webkit-transition:color .2s ease-in-out;color:#0d6ea1;text-decoration:none}
a:hover{color:#3593d9}.footnote{color:#0d6ea1;font-size:.8em;vertical-align:super}dd{margin-bottom:1em}
li>p:first-child{margin:0}ul ul,ul ol{margin-bottom:.4em}.poetry
pre{display:block;font-family:Georgia,Garamond,serif!important;font-size:110%!important;font-style:italic;line-height:1.6em;margin-left:1em}
.poetry pre code{font-family:Georgia,Garamond,serif!important}
sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;position:relative;vertical-align:super}sub{vertical-align:sub;top:-1px}
p,h5{font-size:1.1429em;line-height:1.3125em;margin:1.3125em 0}dt,th{font-weight:700}p{margin:0.7ex 2.0em}pre{margin-left:4em;}
p.note{font-size:75%}
.code-like{font-family:monospace;font-size:120%!important}
@media print{body{overflow:auto}
#wrapper{background:#fff;color:#303030;font-size:85%;padding:10px;position:relative;text-indent:0}}
@media screen{/*::selection{background:rgba(157,193,200,.5)}*/.inverted{background:#333}
.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted pre,.inverted code,.inverted th{color:#eee!important}
.inverted a{color:#fff;text-decoration:underline}#wrapper{padding:20px}.inverted #wrapper{background:#333}}
</style>
<!-- # grep -v excluding_those_lines __file__ |shasum -a 512 -->
<!-- sha512_excluding_those_lines='3718d38f1eaf95307657d514516d0b9bac4cdeb5668d96a87edc0726cdaca4f5ce039de316ad5b931321f81d5c8cc46839ed4aa00f8a56ee9e86712183337851' -->
</head>
<body class="normal">
  <div id="wrapper">
<h1>OData TC meeting #169 Thursday Apr 06, 2017</h1>
<p>Acting chair: Ralf</p>
<pre>Chat transcript from room: odatatc
2017-04-06 0800-1000 PDT
</pre>
<h2>1. Roll call</h2>

<h3>1.1 Members present</h3>
<pre>
    George Ericson (Dell)
    Gerald Krause (SAP SE)
    Hubert Heijkers (IBM)
    Mark Biamonte (Progress Software)
    Martin Zurmuehl (SAP SE)
    Matthew Borges (SAP SE) a.k.a. Matt
    Michael Pizzo (Microsoft) a.k.a. Mike
    Ralf Handl (SAP SE)
    Ramesh Reddy (Red Hat)
    Stefan Hagen (Individual)
    Ted Jones (Red Hat)
</pre>

<p>Quorum achieved. Details cf. <a href="https://www.oasis-open.org/apps/org/workgroup/odata/event.php?event_id=43972">normative attendance sheet for this meeting (event_id=43972)</a>.</p>

<p>Notes taken by all and subsequently edited for readability by Stefan.</p>

<h2>2. Approve agenda</h2>
<p>Agenda approved unchanged as published.</p>

<h2>3. Approve minutes from previous meeting(s)</h2>
<h3>3.1 Minutes from March 30, 2017 TC meeting #168</h3>
<p><a href="https://www.oasis-open.org/committees/download.php/60407/odata-meeting-168_on-20170330-minutes.html" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60407/odata-meeting-168_on-20170330-minutes.html</a></p>
<p>Minutes approved unchanged as published.</p>

<h2>4. Review action items [<a href="https://www.oasis-open.org/apps/org/workgroup/odata/members/action_items.php" rel="noopener noreferrer" target="_blank">Link to Action item list</a>]</h2>
<h3>4.1 Action items due</h3>
<p>None</p>

<h2>5. V4.01</h2>
<h3>5.1 Issues for V4.01_CSD02 ready for resolution</h3>

<h4>5.1.1 <a href="https://issues.oasis-open.org/browse/ODATA-1063" rel="noopener noreferrer" target="_blank">ODATA-1063</a> - Allow $format and custom query options for all requests</h4>
<p>Ralf: ODATA-1063 is OPEN</p>
<p><b>Hubert</b>: I <b>move</b> to resolve ODATA-1063 as proposed. <b>Mike</b> seconds.</p>
<p>Ralf: ODATA-1063 is RESOLVED as proposed</p>

<h4>5.1.2 <a href="https://issues.oasis-open.org/browse/ODATA-1061" rel="noopener noreferrer" target="_blank">ODATA-1061</a> - Allow key expressions in Path constructs within annotations</h4>
<p>Ralf: ODATA-1061 is OPEN</p>
<p>Ralf:</p>
<pre>
&lt;Annotation Term="Display.visible" Path="/this.container/Settings/FeatureXxxIsAvailable" />
&lt;Annotation Term="Display.visible" Path="/this.container/SettingsCollection('FeatureXxx')/IsAvailable" />
&lt;Annotation Term="Display.title" Path="/this.container/Products(ID=ProductID)Name" />
&lt;Annotation Term="Display.title" Path="/this.container/Products(ID=ProductID)/Name" />
&lt;Annotation Term="Display.title" Path="/this.container/Products(IProductID)Name" />
&lt;Annotation Term="Display.title" Path="/this.container/Products(ProductID)Name" />
&lt;Annotation Term="Display.title" Path="/this.container/Products(ProductID)/Name" />
&lt;Annotation Term="Display.title" Path="/this.container/OrderItems(OrderID=42,ItemID=2)/Price" />
&lt;Annotation Term="Display.title" Path="/this.container/Products(Product/ID)/Name" /> -- path for fetching key value
</pre>
<p>Ralf: Only literals and paths allowed as "key values", no arithmetic expressions or functions</p>
<p><b>Hubert</b>: I <b>move</b> to resolve ODATA-1061 as per the amended proposal. <b>Mark</b> seconds.</p>
<p>Ralf: ODATA-1061 is RESOLVED</p>

<h4>5.1.3 <a href="https://issues.oasis-open.org/browse/ODATA-1057" rel="noopener noreferrer" target="_blank">ODATA-1057</a> - Add path segment /$each</h4>
[17:32] anonymous morphed into George Ericson (Dell)
<p><b>Mike</b>: I <b>move</b> we resolve ODATA-1057 as proposed. <b>Hubert</b> seconds.</p>
<p>Ralf: ODATA-1057 is RESOLVED</p>

<h4>5.1.4 <a href="https://issues.oasis-open.org/browse/ODATA-1058" rel="noopener noreferrer" target="_blank">ODATA-1058</a> - Add ability to annotate revisions with information on all elements</h4>
<p>Ralf: The proposal is to create a 'Revision' term in the Core vocabulary that may be applied to any element. Elements defined in a schema may then evolve over time and with their complete revision history intact. The proposal is as follows: </p>
<pre>
&lt;Term Name="Revision" Type="CsdlMetamodel.RevisionType"> 
  &lt;Annotation Term="OData.Description" String="Defines an annotation to mark a revision." /> 
&lt;/Term>
</pre>

<p>Mike:</p>
<pre>
&lt;EnumType Name="RevisionKind"> 
  &lt;Member Name="Add"/> 
  &lt;Member Name="Insert"/> 
  &lt;Member Name="Change"/> 
  &lt;Member Name="Delete"/> 
  &lt;Member Name="Deprecate"/> 
&lt;/EnumType>
</pre>

<p>Mike:</p>
<pre>
&lt;ComplexType Name="RevisionType"> 
  &lt;Property Name="Version" Type="Edm.String"> 
    &lt;Annotation Term="OData.Description" String="An 'm.n.e' string value composed of three decimal values separated by '.'. 
    These values express major, minor, and errata version numbers for this revision where 'm' is an integer representing 
    a major version. Major versions are expected to provide similar but extended functionality, but may be incompatible in 
    any way. The minor version 'n' may include additional features and may not remove any features from previous minor 
    versions of the same major version. The set of allowable values must include all allowable values of previous minor versions 
    of the same major version. The errata version 'e' is used to mark a change that fixes something that was broken in the 
    including minor version. By its nature, an errata version may include incompatible changes to fix a prior version."/> 
  &lt;/Property> 
  &lt;Property Name="Type" Type="CsdlMetamodel.RevisionKind"> 
    &lt;Annotation Term="Core.Description" String="An enumerated value expressing the type of revision." /> 
  &lt;/Property> 
  &lt;Property Name="Description" Type="String"> 
    &lt;Annotation Term="Core.Description" String="Text description of the reason for the revision." /> 
  &lt;/Property> 
&lt;/ComplexType>
</pre>
<p>Ralf: Expection: revisions cumulate over time, so revision needs to state which version it was introduced</p>

<pre>
&lt;Property Name="NewProp" ...>
  &lt;Annotation Term="Core.Revision" Qualifier="first">
    &lt;Record>
      &lt;PropertyValue Property="Version" String="10.4.1" />
      &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Insert" />
    &lt;/Record>
  &lt;/Annotation>
&lt;/Property>
</pre>
<p>Ralf: In JSON:</p>
<pre>
"@Core.Revision#first":{"Version":"10.4.1","Type":"Insert"}
</pre>
<p>Ralf: Multiple revisions of the same model element:</p>
<pre>
&lt;Property Name="NewProp" ...>
  &lt;Annotation Term="Core.Revision" Qualifier="first">
    &lt;Record>
      &lt;PropertyValue Property="Version" String="10.4.1" />
      &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Insert" />
    &lt;/Record>
  &lt;/Annotation>
  &lt;Annotation Term="Core.Revision" Qualifier="second">
    &lt;Record>
      &lt;PropertyValue Property="Version" String="10.4.2" />
      &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Deprecate" />
    &lt;/Record>
  &lt;/Annotation>
&lt;/Property>
</pre>
<p>Mike:</p>
<pre>
&lt;Annotation Term="Core.Revision" Qualifier="v10_4_1">
  &lt;Record>
    &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Insert" />
  &lt;/Record>
&lt;/Annotation>
</pre>
<p>Ralf: Alternative: collection-valued annotation:</p>
<pre>
&lt;Property Name="NewProp" ...>
  &lt;Annotation Term="Core.Revision">
    &lt;Collection>
      &lt;Record>
        &lt;PropertyValue Property="Version" String="10.4.1" />
        &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Insert" />
      &lt;/Record>
      &lt;Record>
        &lt;PropertyValue Property="Version" String="10.4.2" />
        &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Deprecate" />
      &lt;/Record>
    &lt;/Collection>
  &lt;/Annotation>
&lt;/Property>
</pre>
<p>Mike: Updated term definition:</p>
<pre>
&lt;Term Name="Revision"  Type="Collection(CsdlMetamodel.RevisionType)">
  &lt;Annotation Term="OData.Description" String="Defines an annotation to mark a revision." />
&lt;/Term>
</pre>
<p>Ralf: George, Martin, Mark, and Mike like the collection-valued notation</p>
<p>Ralf: It also allows ordering of revisions by version/time</p>
<p>Ralf: Example for description via annotation:</p>
<pre>
&lt;Record>
  &lt;PropertyValue Property="Version" String="10.4.2" />
  &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Deprecate" />
  &lt;Annotation Term="Core.Description" String="Cool new property requested by BigCustomer" />
&lt;/Record>
</pre>
<p>Ralf: Example for description via property:</p>
<pre>
&lt;Record>
  &lt;PropertyValue Property="Version" String="10.4.2" />
  &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Deprecate" />
  &lt;PropertyValue Property="Description" String="Cool new property requested by BigCustomer" />
&lt;/Record>
</pre>
<p>Ralf: Example for description via annotation:</p>
<pre>
"@Core.Revision":[{
  "Version":"10.4.2",
  "Type":"Add" />
  "@Core.Description":"Cool new property requested by BigCustomer"
}]
</pre>
<p>Ralf: Example for description via annotation:</p>
<pre>
"@Core.Revision":[{
  "Version":"10.4.2",
  "Type":"Add",
  "Description":"Cool new property requested by BigCustomer"
}]
</pre>
<p>Mike: Has slight preference for second variant with explicit Description property</p>
<p>Ralf: Is more explicit in the term definition</p>
<pre>
&lt;EnumType Name="RevisionKind"> 
  &lt;Member Name="Add"/> 
  &lt;Member Name="Insert"/> 
  &lt;Member Name="Change"/> 
  &lt;Member Name="Delete"/> 
  &lt;Member Name="Deprecate"/> 
&lt;/EnumType>
</pre>
<p>Ralf: Ralfs preference: New, Changed, Deprecated</p>
<p>Mike: Added, Changed, Deprecated</p>
<p>George: Add, Change, Deprecate</p>
<p>Mike: keep "Deleted" and add an optional property "ChildElement"</p>
<p>Mike: If RevisionKind is changed, you could add a structured property that was membername and revisionkind ... (including deleted)</p>
<p>Ralf: Example for Deleted:</p>
<pre>
&lt;EntityType Name="...
  &lt;Annotation Term="Core.Revision">
    &lt;Collection>
      &lt;Record>
        &lt;PropertyValue Property="Version" String="10.4.2" />
        &lt;PropertyValue Property="Type" EnumMember="Core.RevisionKind/Deleted" />
        &lt;PropertyValue Property="Description" String="Unused property removed" />
        &lt;PropertyValue Property="ChildElement" String="SomeRandomProperty" />
      &lt;/Record>
    &lt;/Collection>
  &lt;/Annotation>
&lt;/EntityType>
</pre>
<p>George: Deletion should only happen when moving to the next major version, so Deleted annotation is not really necessary</p>
<p>Ralf: So no ChildElement, and directly annotate the added/changed/deprecated model element</p>
<p>George: Points out annotating the structured object would require multiple records with the same version ...</p>
<p>Mike: use "Kind" for property name and enumtype name suffix instead of "Type"</p>
<p>Martin: use "Kind"</p>
<p>George: XML uses "Kind" for enumerations</p>
<p>Ralf: Enumeration member names: Added, Modified, Deprecated</p>
<p>Mike: The proposal is to create a 'Revision' term in the Core vocabulary that may be applied to any element.  Elements defined in a schema may then evolve over time and with their complete revision history intact. The proposal is as follows:</p>
<pre>
&lt;Term Name="Revision"  Type="Collection(CsdlMetamodel.RevisionType)">
  &lt;Annotation Term="OData.Description" String="Defines an annotation to mark a revision." />
&lt;/Term>
</pre>
<p>The members of the collection are sequential.</p>

<pre>
&lt;ComplexType Name="RevisionType">
  &lt;Property Name="Version" Type="Edm.String">
    &lt;Annotation Term="OData.Description" String="An 'm.n.e' string value composed of three decimal values separated by '.'.  
    These values express major, minor, and errata version numbers for this revision where 'm' is an integer representing 
    a major version.  Major versions are expected to provide similar but extended functionality, but may be incompatible in 
    any way. The minor version 'n' may include additional features and may not remove any features from previous minor 
    versions of the same major version.  The set of allowable values must include all allowable values of previous minor versions 
    of the same major version. The errata version 'e' is used to mark a change that fixes something that was broken in the 
    including minor version.  By its nature, an errata version may include incompatible changes to fix a prior version."/>
  &lt;/Property>
  &lt;Property Name="Kind" Type="CsdlMetamodel.RevisionKind">
    &lt;Annotation Term="Core.Description" String="An enumerated value expressing the type of revision." />
  &lt;/Property>
  &lt;Property Name="Description" Type="String">
    &lt;Annotation Term="Core.Description" String="Text description of the reason for the revision." />
  &lt;/Property>
&lt;/ComplexType>

&lt;EnumType Name="RevisionKind">
  &lt;Member Name="Added"/>
  &lt;Member Name="Modified"/>
  &lt;Member Name="Deprecated"/>
&lt;/EnumType>
</pre>
<p>Ralf: ODATA-1058 is OPEN</p>
<p><b>Martin</b>: I <b>move</b> we resolve ODATA-1058 as proposed (revised proposal see chat). <b>Mike</b> seconds.</p>
<p>Ralf: ODATA-1058 is RESOLVED</p>
<p>Martin: proposal is updated in jira</p>

<h4>5.1.5 <a href="https://issues.oasis-open.org/browse/ODATA-1005" rel="noopener noreferrer" target="_blank">ODATA-1005</a> - Make sure we have capabilities for all new 4.01 functionality</h4>
<p>Skipped</p>

<h3>5.2 Document walkthrough</h3>

<h4>5.2.1 Part 1: Protocol</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60437/odata-v4.01-wd02-part1-protocol-2017-04-05.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60437/odata-v4.01-wd02-part1-protocol-2017-04-05.docx</a></p>
<p>All walk through the document, discuss and perform online changes during the meeting.</p>

<h4>5.2.2 Part 2: URL Conventions</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60438/odata-v4.01-wd02-part2-url-conventions-2017-04-05.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60438/odata-v4.01-wd02-part2-url-conventions-2017-04-05.docx</a></p>
<p>Skipped</p>

<h4>5.2.3 JSON Format</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60365/odata-json-format-v4.01-wd02-2017-03-24.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60365/odata-json-format-v4.01-wd02-2017-03-24.docx</a></p>
<p>Skipped</p>

<h4>5.2.4 CSDL JSON Representation</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60363/odata-csdl-json-v4.01-wd01-2017-03-24.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60363/odata-csdl-json-v4.01-wd01-2017-03-24.docx</a></p>
<p>Skipped</p>

<h4>5.2.5 CSDL XML Representation</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60364/odata-csdl-xml-v4.01-wd02-2017-03-24.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60364/odata-csdl-xml-v4.01-wd02-2017-03-24.docx</a></p>
<p>Skipped</p>

<h4>5.2.6 New in OData 4.01</h4>
<p>URL = <a href="https://www.oasis-open.org/committees/download.php/60439/new-in-odata-v4.01-wd01-2017-04-05.docx" rel="noopener noreferrer" target="_blank">https://www.oasis-open.org/committees/download.php/60439/new-in-odata-v4.01-wd01-2017-04-05.docx</a></p>
<p>Skipped</p>



<h2>6. Next meetings</h2>

<h3>6.2 Meeting on April 13, 2017, during 08:00-10:00 am PDT</h3> 
<p>Ralf: (17:00-19:00 CEST) already confirmed</p>

<h3>6.2 Meeting after that on April 20, 2017, during 08:00-10:00 am PDT</h3> 
<p>Mark: Can't attend week after next</p>

<h2>7. AOB and wrap up</h2>
<p>None</p>

<p>Meeting adjourned by chair.</p>

</div>
</body>
</html>
