<!doctype html><html><head><meta charset="utf-8"><style>h1,h2,h3,h4,h5,h6,p,blockquote{margin:0;padding:0}body{font-family:"Helvetica Neue",Helvetica,"Hiragino Sans GB",Arial,sans-serif;font-size:13px;line-height:18px;color:#737373;margin:10px 13px 10px 13px}a{color:#0069d6}a:hover{color:#0050a3;text-decoration:none}a img{border:0}p{margin-bottom:9px}h1,h2,h3,h4,h5,h6{color:#404040;line-height:36px}h1{margin-bottom:18px;font-size:30px}h2{font-size:24px}h3{font-size:18px}h4{font-size:16px}h5{font-size:14px}h6{font-size:13px}hr{margin:0 0 19px;border:0;border-bottom:1px solid #ccc}blockquote{padding:13px 13px 21px 15px;margin-bottom:18px;font-family:georgia,serif;font-style:italic}blockquote:before{content:"\201C";font-size:40px;margin-left:-10px;font-family:georgia,serif;color:#eee}blockquote p{font-size:14px;font-weight:300;line-height:18px;margin-bottom:0;font-style:italic}code,pre{font-family:Monaco,Andale Mono,Courier New,monospace}code{background-color:#fee9cc;color:rgba(0,0,0,0.75);padding:1px 3px;font-size:12px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}pre{display:block;padding:14px;margin:0 0 18px;line-height:16px;font-size:11px;border:1px solid #d9d9d9;white-space:pre-wrap;word-wrap:break-word}pre code{background-color:#fff;color:#737373;font-size:11px;padding:0}@media screen and (min-width:768px){body{width:748px;margin:10px auto}}</style><title>Review of OData-Atom 20120820</title></head><body><p>Thanks a lot for the interesting read, Martin!</p><p>As already practiced with the JSON Format document revision issue, I prefer to put my complete feedback of the first iteration into one comment, so that you may consider it as a whole and we do not drown in a flood of minor issues on a phrase level of the documents.</p><p>If there is interest in or objection against specific feedback items, I will be happy to invest the extra work and pull these into dedicated JIRA issues.</p><p>Comments are structured by bracketing the location range in the document revision <a href="https://www.oasis-open.org/committees/download.php/46705/odata-atom-format-v1.0-wd01-2012-08-17-MZ.doc">OData ATOM Format Version 1.0 Working Draft 01</a> and then detailing this in globally enumerated feedback items (currently A-Y).</p><p>Review iteration is now complete.</p><h1>1 Introduction</h1><h2>Feedback A)</h2><p>1st para, second phrase:</p><p>This document describes the OData Atom Format returned from an OData Service when requesting the application/atom+xml mime type.</p><p><strong>SHOULD</strong> be replaced with eg:</p><p>This document describes the OData Atom Format <code>of the payload</code> returned from an OData Service when requesting the application/atom+xml mime type.</p><p>Benefit <code>is a more precise description and introduces the term payload used in the following para.</code></p><h2>Feedback B)</h2><p>2nd para, 13th list item:</p><ul><li>an error</li></ul><p><strong>SHOULD</strong> be replace with eg:</p><ul><li>an error<code>document</code></li></ul><p>Benefit <code>is a more precise description of the concrete form which is described by that item</code>. If it is an OData type, than this should be noted accordinglye.</p><h1>1.2 Normative References</h1><h2>Feedback C)</h2><p>The <code>sequence of the references</code><strong>SHOULD</strong> be realized as an <code>alphabetic ordering on the reflabels</code> (inside the square brackets).</p><p>Benefit: <code>Since already a left-rooted naming convention of the reflabels is implemented, there is no reason to not sort these entries alphabetically.</code> Note: Otherwise a reader might expect grouping by topic or chronological ordering, which is not the case here.</p><h2>Feedback D)</h2><p>The refentries with respect to IETF RFCs <strong>MAY</strong> be changed to consistently bear sub entries with a space between the string &ldquo;IETF RFC&rdquo; and the number of the RFC like in the refentry with label <strong>[RFC2119]</strong>. Eg. for <strong>[RFC5023]</strong> write <code>IETF RFC 5023</code> instead of <code>IETF RFC5023</code>.</p><p>Benefit is <code>consistency and readability</code>.</p><h2>Feedback E)</h2><p>Missing reference to RFC 3629. In document section &ldquo;3 Primitive Types in Atom&rdquo; inside the field &ldquo;Literal Form&rdquo; of the &ldquo;"Primitive Type&rdquo; <strong>Edm.String</strong> it reads:</p><p>any UTF-8 character Note: See definition of UTF8-char in <strong>[RFC3629]</strong></p><p>but this reference is missing in the references section, thus I propose to insert a refentry like:</p><p>[RFC3629] F. Yergeau “UTF-8, a transformation format of ISO 10646”, IETF RFC 3629, November 2003. http://www.ietf.org/rfc/rfc3629.txt</p><p>Benefit should be <code>consistency</code>.</p><h2>Feedback F)</h2><p>Missing reference to xxx. In document section &ldquo;3 Primitive Types in Atom&rdquo; inside the field &ldquo;Literal Form&rdquo; of the &ldquo;"Primitive Type&rdquo; <strong>Edm.Time</strong> it reads:</p><p>Defined by the lexical representation for time at <code>http://www.w3.org/TR/xmlschema-2</code></p><p>and for <strong>Edm.DateTimeOffset</strong> it reads:</p><p>Defined by the lexical representation for datetime (including timezone offset) at <code>http://www.w3.org/TR/xmlschema-2</code></p><p>I propose to replace the URL inside these two entries by a local reflabel along the lines of <strong>[XML-XSD-P2]</strong> linked to a new refentry created before as eg:</p><p><strong>[XML-XSD-P2]</strong> P. V. Biron, A. Malhotra &ldquo;XML Schema Part 2: Datatypes Second Edition&rdquo;, World Wide Web Consortium, W3C Recommendation, 28 October 2004. http://www.w3.org/TR/xmlschema-2/</p><p>into the references section and rewrite the table entries in the referring section accordingly.</p><p>Benfit should be <code>consistency</code>.</p><h1>4.1.3 OData Data Namespace</h1><h2>Feedback G)</h2><p>The first paragraph reads</p><p>Elements that describe the actual data values for an entity are qualified with the OData Data Namespace: “<code>http://schemas.microsoft.com/ado/2007/08/dataservices</code>”</p><p>This URL <strong>SHOULD</strong> be changed to the final oasis based namespacing URL starting with <code>http://docs.oasis-open.org/odata/ns/</code> and as noted in <a href="https://tools.oasis-open.org/issues/browse/ODATA-19">Issue OData-19</a>, when the resolution of OData-19 is settled.</p><p>Benefit is <code>consistency</code>.</p><h1>4.1.4 OData Metadata Namespace</h1><h2>Feedback G)</h2><p>The first paragraph reads</p><p>Attributes and elements that represent metadata (such as type, null usage, and entry-level etags) are defined within the OData Metadata Namespace: “<code>http://schemas.microsoft.com/ado/2007/08/dataservices/metadata</code>”. Custom elements or attributes MUST NOT use this namespace.</p><p>This URL <strong>SHOULD</strong> be changed to the final oasis based namespacing URL starting with <code>http://docs.oasis-open.org/odata/ns/</code> and as noted in <a href="https://tools.oasis-open.org/issues/browse/ODATA-19">Issue OData-19</a>, when the resolution of OData-19 is settled.</p><p>Benefit is <code>consistency</code>.</p><h1>5.1 Entity Instances</h1><h2>Feedback H)</h2><p>Inside the example the two occurences of namespace-like links (in the values of the rel attribute of the link elements) <strong>SHOULD</strong> be updated in alignment with the resolution of <a href="https://tools.oasis-open.org/issues/browse/ODATA-19">Issue OData-19</a>.</p><p>Also the value of the attribute should IMO be guarded by quotes, i.e. instead of</p><p>&lt;link rel=http://schemas.microsoft.com/ado/2007/08/dataservices/related/Category type="</p><p>it <strong>SHOULD</strong> read (using the old namespace as sample):</p><p>&lt;link rel=<code>"</code>http://schemas.microsoft.com/ado/2007/08/dataservices/related/Category<code>"</code> type="</p><p>All other occurences of namespaces <strong>should</strong> be changed accordingly.</p><p>Benefit is <code>consistency</code> and syntactic correctness of examples.</p><h2>Feedback I)</h2><p>The sample code is not valid standalone as is.</p><p>IMO this is ok, as long as we have a place in the document instructing the reader, how to construct a validating piece of XML from it.</p><p>In the case of this sample, the reader has to amend the element <code>&lt;entry&gt;</code> as <code>&lt;entry xmlns:data="foo" xmlns:metadata="bar"&gt;</code> and (fix an error described in <strong>Feedback J</strong>).</p><p>Benefit is a <code>useful compromise between readability and usability</code></p><h2>Feedback J)</h2><p>The sample code contains (I presume for historical reasons) the term <code>&lt;data:ID m:type="Edm.Int32"&gt;</code> which <strong>SHOULD</strong> be corrected with regard to the correct namespace prefix <code>metadata</code> i.e. <code>&lt;data:ID metadata:type="Edm.Int32"&gt;</code>.</p><p>Benefit is <code>consistency</code> and syntactic correctness of examples.</p><h1>5.1.1.1 The metadata:etag Attribute</h1><h2>Feedback K)</h2><p>The last sentence of the only paragraph in this subsection reads</p><p>For details on how <code>ETags</code> are used, see to [OData-Core].</p><p>Which is the usual CamelCase notation of synthetic words and is perfectly consistent with the RFC 2616 where it says in section</p><p>&ldquo;14.19 ETag</p><p>The ETag response-header field provides the current value of the entity tag for the requested variant.[…]"</p><p>In other places of the OData-Atom document like eg. &ldquo;4.1.4 OData Metadata Namespace&rdquo; 1st para 1st sentence it says:</p><p>&ldquo;Attributes and elements that represent metadata (such as type, null usage, and entry-level <code>etags</code>) […]</p><p>I hereby propose to consistently write the terms either as syntethic term in the form <code>ETag</code> or as native language term <code>entity-tag</code> (or the like, I am not a hyphenation expert neither in German nor in English ;-).</p><p>Benefit is <code>consistency</code>.</p><h1>5.1.4.1 The rel attribute of a Link Representing a Stream Property</h1><h2>Feedback L)</h2><p>Please consider <strong>rewriting</strong> the first two paragraphs to emphasize the distinguishing element (<code>read</code>versus <code>write</code>) instead of provoking the appearance of a doubled text.</p><p>So instead of the current:</p><p><code>The rel attribute for an atom:link element that can be used to retrieve a stream property is made up of the name of the OData Data Namespace, followed by the string “/mediaresource/”, followed by the name of the stream property on the entity.</code></p><p><code>The rel attribute for an atom:link element that can be used to write a stream property is made up of the name of the OData Data Namespace, followed by the string “/edit-media/”, followed by the name of the stream property on the entity.</code></p><p>please consider <strong>writing instead</strong> something like:</p><p><code>To enable retrieval of a stream property, the rel attribute for an atom:link element is made up of the name of the OData Data Namespace, followed by the string “/mediaresource/”, followed by the name of the stream property on the entity.</code></p><p><code>To enable writing [to] a stream property, the rel attribute for an atom:link element is made up of the name of the OData Data Namespace, followed by the string “/edit-media/”, followed by the name of the stream property on the entity.</code></p><p>Note: I assume the usual shorthand that the <code>attribute</code> means the <code>value of the attribute</code> is ok, but I am not sure, if it is meant to write <code>a stream</code>or <code>to a stream</code>.</p><p>Also <em>optionally</em> ensure in subsequent &ldquo;final revisions&rdquo; that the third paragraph mandating the use of absolute URLs as values of the rel-attribute of the atom:link elements is <code>not on a separate page</code>, since distributing such a small paragraph on two pages weakens readability.</p><p>Benefits are <code>clearness</code>and <code>readability</code>.</p><h1>5.1.11.1 Entity Property as a data:[propertyName] Element</h1><h2>Feedback O)</h2><p>The sample reads</p><p>&lt;data:Rating <code>m</code>:type=&ldquo;Edm.Int32&rdquo;>4&lt;/data:Rating></p><p>it should maybe changed to</p><p>&lt;data:Rating <code>metadata</code>:type=&ldquo;Edm.Int32&rdquo;>4&lt;/data:Rating></p><p>Benefit is <code>metadata</code> is already introduced as namespace handle.</p><h1>5.2.2 The atom:id Element within an atom:feed</h1><h2>Feedback P)</h2><p>As in some other places the RFC2119-Terms are not formatted to stand out by all uppercase:</p><p>The only paragraph in this section:</p><p>The atom:id element defines a durable, opaque, globally unique identifier for the feed. Its content <code>must</code> be an IRI as defined in [RFC3987]. The consumer of the feed <code>must not</code> assume this IRI can be de-referenced, nor assume any semantics from its structure.</p><p>should be changed to:</p><p>The atom:id element defines a durable, opaque, globally unique identifier for the feed. Its content <code>MUST</code> be an IRI as defined in [RFC3987]. The consumer of the feed <code>MUST NOT</code> assume this IRI can be de-referenced, nor assume any semantics from its structure.</p><p>Benefit is <code>readability</code></p><h1>5.2.3 Count as a metadata:count Element</h1><h2>Feedback Q)</h2><p>The only paragraph in that section:</p><p>The atom:feed element <code>may</code> contain an <code>m</code>:count element to specify the total count of rows in the result. This <code>may</code> be greater than the number of rows in the feed if server side paging has been applied, in which case the feed will include a next results link.</p><p>should be changed to (with the exception of the term <strong>will</strong>):</p><p>The atom:feed element <code>MAY</code> contain an <code>metadata</code>:count element to specify the total count of rows in the result. This <code>MAY</code> be greater than the number of rows in the feed if server side paging has been applied, in which case the feed <strong>will</strong> include a next results link.</p><p>Benefits are <code>readability and clarity</code></p><p>Note: Please investigate if the usage of the term <strong>will</strong> is correctly representing the requirement. As I understand it is more probable, that a <code>MUST</code> better describes the requirements level, since it is a description of the server response, isn’t it?</p><h1>5.2.4 Self-Links as atom:link Elements</h1><h2>Feedback R)</h2><p>Second paragraph, suggest to replace <code>may</code> with <code>MAY</code>.</p><p>Benefit <code>readability</code></p><h1>5.2.5 Additional Results as an atom:link element</h1><h2>Feedback S)</h2><p>The first paragraph:</p><p>The atom:feed element <code>may</code> contain a “next link” to indicate the presence of additional entries that belong to the feed. Such a link is represented as an atom:link with a rel attribute of &ldquo;next&rdquo; and an href attribute containing a URL that can be used to retrieve the next set of results.</p><p>should be replaced by:</p><p>The atom:feed element <code>MAY</code> contain a “next link” to indicate the presence of additional entries that belong to the feed. Such a link is represented as an atom:link with a rel attribute of &ldquo;next&rdquo; and an href attribute containing a URL that can be used to retrieve the next set of results.</p><p>Benefit is <code>readability</code></p><p>Note: It may be beneficial to rewrite that paragraph to be able to state a tougher requirement along the lines of:</p><p>The atom:feed element <code>MAY</code> contain a “next link”<code>. In the case, that additional entries belong to the feed the atom:feed element MUST contain a “next link” to indicate the presence of these entries.</code> Such a link is represented as an atom:link with a rel attribute of &ldquo;next&rdquo; and an href attribute containing a URL that can be used to retrieve the next set of results.</p><h2>Feedback T)</h2><p>Please cosider changing the last paragraph:</p><p>The contents of the href <code>should</code> be treated as an opaque URL that can be used to fetch the next set of results.</p><p>into:</p><p>The contents of the href <code>SHOULD</code> be treated as an opaque URL that can be used to fetch the next set of results.</p><p>Benefit is <code>readability</code></p><h1>6.1.1 The metadata:metadata Attribute for an Action</h1><h2>Feedback U)</h2><p>The second paragraph:</p><p>This function import name <code>must</code> be unique within the entity container.</p><p>might be changed into:</p><p>This function import name <code>MUST</code> be unique within the entity container.</p><p>Benefit is <code>readability</code></p><h1>7 Functions</h1><h2>Feedback V)</h2><p>First paragraph:</p><p>Zero or more functions <code>may</code> be associated with a feed or entry.</p><p>might be changed into:</p><p>Zero or more functions <code>MAY</code> be associated with a feed or entry.</p><p>Benefit is <code>readability</code></p><h1>8 Annotations</h1><h2>Feedback W)</h2><p>Please consider first paragraph:</p><p>In OData version <strong>3.0</strong>, annotations <code>may be</code> appear as a child to any of the following elements: &lt;atom:feed>, &lt;atom:entry>, &lt;metadata:properties>, &lt;metadata:function>, &lt;metadata:action>, &lt;metadata:error>, or &lt;atom:link> where rel indicates a navigation link or named stream.</p><p>to be changed into:</p><p>In OData version <strong>3.0</strong>, annotations <code>MAY</code> appear as a child to any of the following elements: &lt;atom:feed>, &lt;atom:entry>, &lt;metadata:properties>, &lt;metadata:function>, &lt;metadata:action>, &lt;metadata:error>, or &lt;atom:link> where rel indicates a navigation link or named stream.</p><p>Benefit is <code>consistency and readability</code>.</p><p>Note: The literal version specifier <strong>3.0</strong> in the mentioned paragraph should be checked in the light of the relevant JIRA-Issue ODATA–17 (and its resolution). Probably a condition like <strong>3.0 and later</strong> is correct and future proof?</p><h1>11 Collections of Primitive or Complex Scalar Values</h1><h2>Feedback X)</h2><p>First paragraph, second sentence:</p><p>A collection is a single root element containing zero or more <code>&lt;metadata:element&gt; elements</code> whose content is an individual primitive or complex property as defined above.</p><p>has yellow background color marking <code>&lt;metadata:element&gt; elements</code>.</p><p>Note: his should be removed or a comment/change indicated by the yellow marking be applied.</p><p>2nd Note (with regard to property classification): The link to linktext <code>primitive</code>in above sentence points to <code>simple</code>properties. Maybe stay with the simple labelling instead of introducing duality.</p><h1>13.2 Link as a data:uri Element</h1><h2>Feedback Y)</h2><p>Second paragraph:</p><p>The content of the data:uri element is the <code>Canonical URL</code> for the related entity.</p><p>has the words <code>Canonical URL</code> marked with yellow background.</p><p>Better remove or specify the thought behind the coloring.</p><h1>Misc. Places</h1><h2>Feedback M)</h2><p>The wording of the relation between attributes (or their values) and the respective elements in describing paragraphs is varying as (<code>on</code>|<code>of</code>|<code>for</code>). I know that kind of prose is always tedious writing (and reading) but maybe we <strong>should</strong> try bo be consistent with the selection of this (relating) word.</p><p>Benefit is <code>consistency</code> (and not to vary just to vary).</p><h2>Feedback N)</h2><p>Note/Question: Like with the streams, there is (at least in my OData freshman&rsquo;s head) unclear if it really meant that a client may write <code>to</code> a BLOB associated with an entity, or if she may <code>write the BLOB</code> associated with an entity. I tend to suggest the latter, or are incremental updates like positional appends possible vuia OData?</p><h1>Session completed</h1></body></html>